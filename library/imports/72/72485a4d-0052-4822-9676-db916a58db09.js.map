{"version":3,"sources":["assets\\Script\\GameManager.js"],"names":["_isTest","_diceinput1","_diceinput2","PreviousDiceRoll1","PreviousDiceRoll2","halfBusinessAmount","halfBusinessAmountID","halfBusinessAmountIndex","PreviousDiceRoll3","PreviousDiceRoll4","PreviousDiceRoll5","userGameOver","BotGameOver","TotalCounterReached","PassedPayDayCounter","DoublePayDayCounter","NoCardFunctionality","PlayerLeft","ForceChangeTimeOut","GameCompleted","CorrectAnswer","VocabularyQuestions","EstablishmentQuestions","VocabularyQuestionsCounter","EstablishmentQuestionsCounter","BigBusinessArray","LossesArray","MarketingArray","WildCardArray","BigBusinessArrayCounter","LossesArrayCounter","MarketingArrayCounter","WildCardArrayCounter","CompareDiceData","EnumBusinessType","cc","Enum","None","HomeBased","brickAndmortar","BusinessInfo","Class","name","properties","Name","BusinessType","displayName","type","serializable","tooltip","BusinessTypeDescription","Text","BusinessName","Amount","Integer","IsPartnership","typw","Boolean","PartnerID","PartnerName","LocationsName","LoanTaken","LoanAmount","ReceiveDoublePayDay","ctor","CardDataFunctionality","NextTurnDoublePay","SkipNextTurn","SkipNextPayday","SkipHMNextPayday","SkipBMNextPayday","NextTurnHalfPayDay","NextTurnHalfPayDayCounter","HasMarketingCompany","BankruptedNextTurn","StockInfo","ShareAmount","PlayerData","PlayerName","PlayerUID","AvatarID","IsBot","NoOfBusiness","CardFunctionality","HomeBasedAmount","BrickAndMortarAmount","ReceiveDoublePayDayAmount","TotalLocationsAmount","NoOfStocks","Cash","GoldCount","StockCount","MarketingAmount","LawyerStatus","IsBankrupt","BankruptAmount","SkippedLoanPayment","PlayerRollCounter","InitialCounterAssigned","isGameFinished","TotalScore","TotalHBCash","TotalBMCash","TotalGoldCash","TotalLoanBalance","TotalStocksCash","GameOver","IsActive","CanGiveProfitOnPayDay","UserIDForProfitPayDay","RollCounter","DiceTemp","DiceRoll","IsTweening","GamePlayReferenceManager","TurnCheckArray","BusinessLocationNodes","PassedPayDay","DoublePayDay","_nextTurnDoublePay","_nextTurnhalfPay","_skipNextTurn","_skipNextPayday","_skipHMNextPayday","_skipBMNextPayday","CardEventReceived","TurnInProgress","Backspaces","isGameOver","CardDisplaySetTimout","GameManager","Component","PlayerGameInfo","BotGameInfo","PlayerNode","Node","CameraNode","AllPlayerUI","AllPlayerNodes","StartLocationNodes","SelectedMode","statics","Instance","SetPlayerLeft","_state","ResetAllVariables","InputTestDice1","_val","InputTestDice2","onLoad","ResetPayDay","TurnNumber","TurnCompleted","CheckReferences","Get_MultiplayerController","GetSelectedMode","Init_GameManager","RandomCardIndex","CardCounter","CardDisplayed","console","log","require","Camera","getComponent","isCameraZooming","CheckSpectate","getPhotonRef","myRoom","getCustomProperty","Get_GameplayUIManager","ToggleLeaveRoomButton_SpectateModeUI","AllData","MaxPlayers","length","SyncAllData_SpectateManager","UpdateGameUI","InitialScreen_SpectateMode","StartNewBusiness_BusinessSetup","GetTurnNumber","GetMyIndex","myIndex","_actor","PhotonActor","customProperties","PlayerSessionData","_allActors","index","GetMyPlayerUID","_UID","SyncDataToPlayerGameInfo","AssignPlayerGameUI","EnablePlayerNodes","CloseInitialScreen_SpectateMode","_toPos","Vec2","Get_SpaceManager","Data","ReferenceLocation","position","x","y","setPosition","_lastIndex","active","CheckTurnOnSpectateLeave_SpectateManager","TotalConnectedPlayers","myRoomActorCount","userID","setCustomProperty","ChangeTurn","RaiseEventForCard","_data","Get_MultiplayerSyncManager","RaiseEvent","ClearDisplayTimeout","clearTimeout","DisplayCardOnOthers","OnLandedOnSpace","setTimeout","ResetCardDisplay","ReceiveEventForCard","RandomCard","randomCard","counter","RaiseEventTurnComplete","RoomEssentials","IsSpectate","SyncAllData","RemoveFromCheckArray","_uid","_ind","splice","CheckTurnComplete","j","ReceiveEventTurnComplete","push","ArrayLength","IDFound","ResetSomeValues","ChangeTurnForcefully","UpdateVisualData","RefreshDataAutomatically","TurnHandler","_turn","_isMaster","CheckCurrentActiveMasterClient","_playerMatched","ToggleTurnProgress","ResetTurnVariable","StartNewGame_BankRupted","ToggleDecision_TurnDecision","RollDice","DiceRollScreen","PlayerInfo","myRoomActorsArray","ShowToast","ToggleSkipNextTurn","UpdateUIData","MainSessionData","MyData","_counter","StartTurn","ReceiveBankruptData","_isBankrupted","bankrupted","turn","_playerData","PlayerDataMain","StartTurnAfterBankrupt","_randomIndex","getRandom","SetName","SetAvatar","_toggleHighlight","_index","ToggleBGHighlighter","ToggleTextighlighter","children","Sprite","spriteFrame","AvatarSprites","SetFollowCameraProperties","targetPos","convertToWorldSpaceAR","parent","convertToNodeSpaceAR","ratio","winSize","height","zoomRatio","lateUpdate","syncDiceRoll","_roll","_dice1","dice1","_dice2","dice2","_result","error","PrintDiceValue_TurnDecision","AnimateDice","DiceFuntionality","_pos","TweenCamera","TempCheckSpace","_rolling","tempcounter","tempcounter2","dicetobe","parseInt","SpaceData","SpacesType","Dice1","Dice2","_newRoll","RollOneDice","RollTwoDices","PopulateDecksArray","_isBigBusiness","_isLosses","_isMarketing","_isWildCard","sort","Math","random","_tempData","BigArray","LossArray","MarketArray","WildArrya","GetBigBusinessIndex","GetLossesIndex","GetMarketingIndex","GetWildCardIndex","UpdateCounters","SelectRelatedCard","callUponCard","_spaceID","StartDiceRoll","SendingData","isBot","completeCardTurn","AllPlayersGameCompleted","CallGameComplete","_isBot","_forceGameOver","_playerIndex","_cash","HMAmount","Get_GameManager","BMAmount","BMLocations","loanAmount","_gold","_stocks","_diceRandom","OnceOrShare","GoldCash","StockCash","BMCash","HMCash","TotalAssets","RaiseEventForGameComplete","RaiseEventToSyncGameCompleteData","SyncGameOver","infoText","statusText","DisconnectData","ShowResultScreen","_currentCash","Get_ServerBackend","StudentData","gameCash","_total","toString","_won","gamesWon","UpdateUserData","SyncGameCompleteData","Bot","ZoomCameraOutOnly","max","SelectedInd","SessionData","_value","trace","playercompleted","ZoomCameraOut","TweenPlayer","min","floor","isZoom","time","tween","to","v2","easing","call","ZoomCameraIn","start","CheckPayDayConditions","ProcessPayDay_TurnDecision","ToPos","speed","_newpos","TogglePayDay","_st1","_St2","IncreaseDoublePayDay","ExpandBusiness_TurnDecision","amount","_locationName","_isCardFunctionality","_GivenCash","_StartAnyBusinessWithoutCash","OnExpandButtonExitClicked_TurnDecision","GenerateExpandBusiness_Prefabs_TurnDecision","i","node","instantiate","TurnDecisionSetupUI","ExpandBusinessPrefab","ExpandBusinessScrollContent","SetBusinessIndex","SetCardFunctionality","SetGivenCash","SetStartAnyBusinessWithoutCash","ResetEditBox","DestroyGeneratedNodes","destroy","UpdateStocks_TurnDecision","_name","_ShareAmount","_isAdding","_stock","_isDoublePayDay","_forSelectedBusiness","_SelectedBusinessIndex","HBAmount","_title","AssignData_PayDay","ToggleSkipPayDay_Whole","Bankrupt_TurnDecision","SendProfit_Partner_TurnDecision","_amount","_uID","ID","ReceiveProfit_Partner_TurnDecision","_iD","_myIndex","ToggleDoublePayNextTurn","ToggleHalfPayNextTurn","ToggleSkipPayDay_HomeBased","ToggleSkipPayDay_BrickAndMortar","ReturnTurnProgress","LoseAllMarketingMoney","_loseAmount","MultiplyMarketingMoney","_multiplier","_amountIncreased","GetMarketingMoney","_profit","GetVocabularyQuestionsIndex","PopulateOneQuestionArray_Vocabulary","GetEstablishmentQuestionsIndex","PopulateOneQuestionArray_Establishment","VocArray","EstArray","QuestionPopUp_OtherUser_OneQuestion","_questionRef","Get_QuestionsData","_userID","UserID","_questionIndex","Question","UserIndex","_isVoc","IsVoc","_gameplayUIManager","ToggleDecisionScreen_OneQuestionSetupUI","_Qdata","CorrectOption","_message","Option1","Option2","Option3","Option4","SetUpDecisionScreen_OneQuestionSetupUI","OneQuestionScreen_Space_OneQuestion","_isTurnOver","_myData","_roomData","ToggleSpaceScreen_OneQuestionSetupUI","ResetSpaceScreen_OneQuestionSetupUI","SetUpSpaceScreen_OneQuestionSetupUI","OneQuestionDecision_SelectOption_OneQuestion","event","_selection","currentTarget","split","RaiseEventDecision_OneQuestion","SelectPlayerProfit_Space_CardFunctionality","ToggleScreen_SelectPlayerForProfit","ResetSpaceScreen_SelectPlayerForProfit","SetUpSpaceScreen_SelectPlayerForProfit","SelectPlayerTakeOver_Space_CardFunctionality","ToggleScreen_SelectPlayerTakeOver","ResetSpaceScreen_SelectPlayerTakeOver","SetUpSpaceScreen_SelectPlayerTakeOver","SelectPlayerBuyHalfBusiness_Space_CardFunctionality","SelectPlayerDamagingInformation_Space_CardFunctionality","ToggleScreen_SelectPlayerDamaging","ResetSpaceScreen_SelectPlayerDamaging","SetUpSpaceScreen_SelectPlayerDamaging","ReceiveEvent_SelectPlayerForProfit_Space_CardFunctionality","_ownID","_playerName","UserName","_playerID","OwnPlayerID","_hasDonePayment","_hasAnsweredQuestion","_UserID","PaymentDone","QuestionAnswered","QuestionIndex","DeductCash_CardFunctionality","AddCash_CardFunctionality","_ID","_msg","msg","mode","UpdateCash_TurnDecision","ReceiveEventDecision_OneQuestion","ToggleWaitingScreen_OneQuestionSetupUI","_selectedPlayerIndex","_actorsData","ReceiveGoBackSpacesData_spaceFunctionality","_spaces","backspaces","Counter","TweenPlayer_GoBackSpaces","GoBackSpaces_spaceFunctionality","ReceiveEvent_TakeOverBusiness_CardFunctionality","_id","Player","_business","Business","_businessIndex","BusinessIndex","_myActor","_locations","TakeOverBusiness_CardFunctionality","_buyHalfBusiness","_diceRoll","_multiplierBusiness","_player","_sendingData","ExitScreenAlongTurnOver__BusinessGenric","_tempSum","ReceiveEvent_BuyHalfBusiness_CardFunctionality","_cashAmount","_senderID","MyID","_senderName","MyName","ReceiveEvent_CompareDice_CardFunctionality","_receiverPlayer","_receiverPlayerIndex","PlayerIndex","_senderPlayerUID","MyUserID","_senderDice","_receiverDice","_senderPayLimit","Limit1","_receiverPayLimit","Limit2","ToggleDecsion01Screen_CompareDice","RollDice_CompareDice_CardFunctionality","UIManager","_info","ToggleDecsion02Screen_CompareDice","ChangeTitle_Decsion02Screen_CompareDice","ToggleDecsion02ScreenButton_CompareDice","_sentdata","SenderUID","DecisionObject","ReceiveEvent_CompareDiceDecision_CardFunctionality","ToggleWaitingScreen_PartnerShipSetup","ExitAlongTurnOver_SelectPlayerGeneric","PayAmount_CompareDice_CardFunctionality","SetBankruptedVar","PayAmount_BuyHalfBusiness_CardFunctionality","ToggleScreen_BuyHalfBusiness","ToggleScreen_InsufficientBalance","BuyHalfBusiness_CardFunctionality","_text","SetTitleText_BuyHalfBusiness","ReceiveEvent_SelectPlayerDamagingDecision_Space_CardFunctionality","SetSenderID_DamageDecision","ToggleMainScreen_DamageDecision","ToggleDiceResultScreen_DamageDecision","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var _isTest = false;\r\nvar _diceinput1 = \"\";\r\nvar _diceinput2 = \"\";\r\nvar PreviousDiceRoll1 = -1;\r\nvar PreviousDiceRoll2 = -1;\r\nvar halfBusinessAmount = 0;\r\nvar halfBusinessAmountID = \"\";\r\nvar halfBusinessAmountIndex = 0;\r\nvar PreviousDiceRoll3 = -1;\r\nvar PreviousDiceRoll4 = -1;\r\n\r\nvar PreviousDiceRoll5 = -1;\r\n\r\nvar userGameOver = false;\r\nvar BotGameOver = false;\r\nvar TotalCounterReached = false;\r\nvar PassedPayDayCounter = 0;\r\nvar DoublePayDayCounter = 0;\r\nvar NoCardFunctionality = false;\r\nvar PlayerLeft = false;\r\nvar ForceChangeTimeOut = null;\r\nvar GameCompleted = false;\r\nvar CorrectAnswer = 0;\r\n\r\nvar VocabularyQuestions = [];\r\nvar EstablishmentQuestions = [];\r\nvar VocabularyQuestionsCounter = 0;\r\nvar EstablishmentQuestionsCounter = 0;\r\n\r\nvar BigBusinessArray = [];\r\nvar LossesArray = [];\r\nvar MarketingArray = [];\r\nvar WildCardArray = [];\r\nvar BigBusinessArrayCounter = 0;\r\nvar LossesArrayCounter = 0;\r\nvar MarketingArrayCounter = 0;\r\nvar WildCardArrayCounter = 0;\r\nvar CompareDiceData=null;\r\n\r\n//#region superclasses and enumerations\r\n//-------------------------------------------enumeration for type of business-------------------------//\r\nvar EnumBusinessType = cc.Enum({\r\n  None: 0,\r\n  HomeBased: 1, //a business that you operate out of your home\r\n  brickAndmortar: 2, //a store front business\r\n});\r\n\r\n//-------------------------------------------class for BusinessInfo-------------------------//\r\nvar BusinessInfo = cc.Class({\r\n  name: \"BusinessInfo\",\r\n  properties: {\r\n    Name: \"BusinessData\",\r\n    BusinessType: {\r\n      displayName: \"Mode\",\r\n      type: EnumBusinessType,\r\n      default: EnumBusinessType.None,\r\n      serializable: true,\r\n      tooltip: \"Business catogory for players\",\r\n    },\r\n    BusinessTypeDescription: {\r\n      displayName: \"Type\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"Type (by name) of business player is opening\",\r\n    },\r\n    BusinessName: {\r\n      displayName: \"Name\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"Name of the business player is opening\",\r\n    },\r\n    Amount: {\r\n      displayName: \"Amount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"balance of business\",\r\n    },\r\n    IsPartnership: {\r\n      displayName: \"IsPartnership\",\r\n      default: false,\r\n      typw: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if player has done partnership with someone with current business\",\r\n    },\r\n    PartnerID: {\r\n      displayName: \"PartnerID\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"ID of the partner with whom player has formed partnership\",\r\n    },\r\n    PartnerName: {\r\n      displayName: \"PartnerName\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"name of the partner with whom player has formed partnership\",\r\n    },\r\n    LocationsName: {\r\n      displayName: \"LocationsName\",\r\n      type: [cc.Text],\r\n      default: [],\r\n      serializable: true,\r\n      tooltip: \"if player owns brick and mortar he/she can expand to new location\",\r\n    },\r\n    LoanTaken: {\r\n      displayName: \"LoanTaken\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n    LoanAmount: {\r\n      displayName: \"LoanAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    ReceiveDoublePayDay: {\r\n      displayName: \"ReceiveDoublePayDay\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n  },\r\n\r\n  ctor: function () {\r\n    //constructor\r\n  },\r\n});\r\n//-------------------------------------------class for CardData-------------------------//\r\nvar CardDataFunctionality = cc.Class({\r\n  name: \"CardDataFunctionality\",\r\n  properties: {\r\n    NextTurnDoublePay: {\r\n      displayName: \"NextTurnDoublePay\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n      tooltip: \"keep track if its going to be double pay day on next payday for current player\",\r\n    },\r\n    SkipNextTurn: {\r\n      displayName: \"SkipNextTurn\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n      tooltip: \"keep track if turn is going to skipped on next turn for current player\",\r\n    },\r\n    SkipNextPayday: {\r\n      displayName: \"SkipNextPayday\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n      tooltip: \"keep track if payday is going to skipped on next payday for current player\",\r\n    },\r\n    SkipHMNextPayday: {\r\n      displayName: \"SkipHMNextPayday\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n      tooltip: \"keep track if payday for home based buisiness is going to skipped on next payday for current player\",\r\n    },\r\n    SkipBMNextPayday: {\r\n      displayName: \"SkipBMNextPayday\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n      tooltip: \"keep track if payday for bricka and mmortar buisiness is going to skipped on next payday for current player\",\r\n    },\r\n    NextTurnHalfPayDay: {\r\n      displayName: \"NextTurnHalfPayDay\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n    NextTurnHalfPayDayCounter: {\r\n      displayName: \"NextTurnHalfPayDayCounter\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    HasMarketingCompany: {\r\n      displayName: \"HasMarketingCompany\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n    BankruptedNextTurn: {\r\n      displayName: \"BankruptedNextTurn\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n  },\r\n  ctor: function () {\r\n    //constructor\r\n  },\r\n});\r\n//-------------------------------------------class for StockInfo-------------------------//\r\nvar StockInfo = cc.Class({\r\n  name: \"StockInfo\",\r\n  properties: {\r\n    Name: \"StockData\",\r\n    BusinessName: {\r\n      displayName: \"BusinessName\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"name of the business in which stocks will be held\",\r\n    },\r\n    ShareAmount: {\r\n      displayName: \"ShareAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n      tooltip: \"Share amount of the stock\",\r\n    },\r\n  },\r\n\r\n  ctor: function () {\r\n    //constructor\r\n  },\r\n});\r\n\r\n//-------------------------------------------class for  Player Data-------------------------//\r\nvar PlayerData = cc.Class({\r\n  name: \"PlayerData\",\r\n  properties: {\r\n    PlayerName: {\r\n      displayName: \"PlayerName\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"name of the player\",\r\n    },\r\n    PlayerUID: {\r\n      displayName: \"PlayerUID\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n      tooltip: \"ID of the player\",\r\n    },\r\n    AvatarID: {\r\n      displayName: \"AvatarID\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"id reference for player avatar selection\",\r\n    },\r\n    IsBot: {\r\n      displayName: \"IsBot\",\r\n      default: false,\r\n      typw: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if current player is bot\",\r\n    },\r\n    NoOfBusiness: {\r\n      displayName: \"Business\",\r\n      type: [BusinessInfo],\r\n      default: [],\r\n      serializable: true,\r\n      tooltip: \"Number of business a player can own\",\r\n    },\r\n    CardFunctionality: {\r\n      displayName: \"CardFunctionality\",\r\n      type: CardDataFunctionality,\r\n      default: null,\r\n      serializable: true,\r\n      tooltip: \"card functionality stored by player\",\r\n    },\r\n    HomeBasedAmount: {\r\n      displayName: \"HomeBasedAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n      tooltip: \"number of home based business a player owns\",\r\n    },\r\n    BrickAndMortarAmount: {\r\n      displayName: \"BrickAndMortarAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n      tooltip: \"number of brick and mortar business a player owns\",\r\n    },\r\n    ReceiveDoublePayDayAmount: {\r\n      displayName: \"ReceiveDoublePayDayAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalLocationsAmount: {\r\n      displayName: \"TotalLocationsAmount\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n      tooltip: \"number of locations of all brick and mortar businessess\",\r\n    },\r\n    NoOfStocks: {\r\n      displayName: \"Stocks\",\r\n      type: [StockInfo],\r\n      default: [],\r\n      serializable: true,\r\n      tooltip: \"Number of stock a player owns\",\r\n    },\r\n    Cash: {\r\n      displayName: \"PlayerCash\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"Amount of cash player owns\",\r\n    },\r\n    GoldCount: {\r\n      displayName: \"GoldCount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"count of gold a player owns\",\r\n    },\r\n    StockCount: {\r\n      displayName: \"StockCount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"count of stocks a player owns\",\r\n    },\r\n    LoanTaken: {\r\n      displayName: \"LoanTaken\",\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if player has taken loan from bank or not\",\r\n    },\r\n    LoanAmount: {\r\n      displayName: \"LoanAmount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"Amount of loan taken from the bank\",\r\n    },\r\n    MarketingAmount: {\r\n      displayName: \"MarketingAmount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"marketing amount a player owns\",\r\n    },\r\n    LawyerStatus: {\r\n      displayName: \"LawyerStatus\",\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if player has hired a lawyer or not\",\r\n    },\r\n    IsBankrupt: {\r\n      displayName: \"IsBankrupt\",\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if player has been Bankrupted or not\",\r\n    },\r\n    BankruptAmount: {\r\n      displayName: \"BankruptAmount\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"keep track how much time player has been bankrupted\",\r\n    },\r\n    SkippedLoanPayment: {\r\n      displayName: \"SkippedLoanPayment\",\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n      tooltip: \"Check if player has skipped loan payment\",\r\n    },\r\n    PlayerRollCounter: {\r\n      displayName: \"PlayerRollCounter\",\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"integer to store roll countor for player\",\r\n    },\r\n    InitialCounterAssigned: {\r\n      displayName: \"InitialCounterAssigned\",\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n    },\r\n    isGameFinished: {\r\n      displayName: \"isGameFinished\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n    TotalScore: {\r\n      displayName: \"TotalScore\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalHBCash: {\r\n      displayName: \"TotalHBCash\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalBMCash: {\r\n      displayName: \"TotalBMCash\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalGoldCash: {\r\n      displayName: \"TotalGoldCash\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalLoanBalance: {\r\n      displayName: \"TotalLoanBalance\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    TotalStocksCash: {\r\n      displayName: \"TotalStocksCash\",\r\n      type: cc.Integer,\r\n      default: 0,\r\n      serializable: true,\r\n    },\r\n    GameOver: {\r\n      displayName: \"GameOver\",\r\n      type: cc.Boolean,\r\n      default: false,\r\n      serializable: true,\r\n    },\r\n    IsActive: {\r\n      displayName: \"IsActive\",\r\n      type: cc.Boolean,\r\n      default: true,\r\n      serializable: true,\r\n    },\r\n    CanGiveProfitOnPayDay: {\r\n      displayName: \"CanGiveProfitOnPayDay\",\r\n      type: cc.Boolean,\r\n      default: true,\r\n      serializable: true,\r\n    },\r\n    UserIDForProfitPayDay: {\r\n      displayName: \"UserIDForProfitPayDay\",\r\n      type: cc.Text,\r\n      default: \"\",\r\n      serializable: true,\r\n    },\r\n  },\r\n  ctor: function () {\r\n    //constructor\r\n  },\r\n});\r\n//#endregion\r\n\r\n//#region Game Manager Class\r\n//-------------------------------------------(main class) class for Game Manager-------------------------//\r\nvar RollCounter = 0;\r\nvar DiceTemp = 0;\r\nvar DiceRoll = 0;\r\nvar IsTweening = false;\r\nvar GamePlayReferenceManager = null;\r\nvar TurnCheckArray = [];\r\nvar BusinessLocationNodes = [];\r\n\r\nvar PassedPayDay = false;\r\nvar DoublePayDay = false;\r\n\r\n//cards functionality\r\nvar _nextTurnDoublePay = false;\r\nvar _nextTurnhalfPay = false;\r\nvar _skipNextTurn = false;\r\nvar _skipNextPayday = false; //skip whole pay day\r\nvar _skipHMNextPayday = false; //skip pay day for home based businessess only\r\nvar _skipBMNextPayday = false; //skip pay day for brick & mortar businessess only\r\nvar CardEventReceived = false;\r\nvar TurnInProgress = false;\r\n\r\nvar Backspaces = 3;\r\nvar isGameOver = false;\r\n\r\nvar CardDisplaySetTimout = null;\r\n\r\nvar GameManager = cc.Class({\r\n  name: \"GameManager\",\r\n  extends: cc.Component,\r\n  properties: {\r\n    PlayerGameInfo: {\r\n      default: [],\r\n      type: [PlayerData],\r\n      serializable: true,\r\n      tooltip: \"all player's data\",\r\n    },\r\n    BotGameInfo: {\r\n      default: [],\r\n      type: [PlayerData],\r\n      serializable: true,\r\n      tooltip: \"all bot's data\",\r\n    },\r\n    PlayerNode: {\r\n      default: null,\r\n      type: cc.Node,\r\n      serializable: true,\r\n      tooltip: \"Node reference for player\",\r\n    },\r\n    CameraNode: {\r\n      default: null,\r\n      type: cc.Node,\r\n      serializable: true,\r\n      tooltip: \"Node reference for camera\",\r\n    },\r\n    AllPlayerUI: {\r\n      default: [],\r\n      type: [cc.Node],\r\n      serializable: true,\r\n      tooltip: \"Node reference of ui of all players\",\r\n    },\r\n    AllPlayerNodes: {\r\n      default: [],\r\n      type: [cc.Node],\r\n      serializable: true,\r\n      tooltip: \"Node reference of node of all players inside gameplay\",\r\n    },\r\n    StartLocationNodes: {\r\n      default: [],\r\n      type: [cc.Node],\r\n      serializable: true,\r\n      tooltip: \"Node reference of attay of locations\",\r\n    },\r\n    SelectedMode: {\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n      tooltip: \"integer reference for game mode 1 means bot and 2 means real players\",\r\n    },\r\n  },\r\n\r\n  statics: {\r\n    PlayerData: PlayerData,\r\n    BusinessInfo: BusinessInfo,\r\n    CardDataFunctionality: CardDataFunctionality,\r\n    EnumBusinessType: EnumBusinessType,\r\n    Instance: null,\r\n  },\r\n\r\n  SetPlayerLeft(_state) {\r\n    PlayerLeft = _state;\r\n  },\r\n\r\n  ResetAllVariables() {\r\n    VocabularyQuestions = [];\r\n    EstablishmentQuestions = [];\r\n    VocabularyQuestionsCounter = 0;\r\n    EstablishmentQuestionsCounter = 0;\r\n\r\n    BigBusinessArray = [];\r\n    LossesArray = [];\r\n    MarketingArray = [];\r\n    WildCardArray = [];\r\n    BigBusinessArrayCounter = 0;\r\n    LossesArrayCounter = 0;\r\n    MarketingArrayCounter = 0;\r\n    WildCardArrayCounter = 0;\r\n    CompareDiceData=null;\r\n\r\n    _diceinput1 = \"\";\r\n    _diceinput2 = \"\";\r\n    PreviousDiceRoll1 = -1;\r\n    PreviousDiceRoll2 = -1;\r\n    PlayerLeft = false;\r\n    halfBusinessAmount = 0;\r\n    halfBusinessAmountID = \"\";\r\n    halfBusinessAmountIndex = 0;\r\n    PreviousDiceRoll3 = -1;\r\n    PreviousDiceRoll4 = -1;\r\n    _nextTurnhalfPay = false;\r\n    PreviousDiceRoll5 = -1;\r\n    GameCompleted = false;\r\n    userGameOver = false;\r\n    BotGameOver = false;\r\n    CorrectAnswer = 0;\r\n    RollCounter = 0;\r\n    DiceTemp = 0;\r\n    DiceRoll = 0;\r\n    IsTweening = false;\r\n    GamePlayReferenceManager = null;\r\n    TurnCheckArray = [];\r\n    BusinessLocationNodes = [];\r\n    ForceChangeTimeOut = null;\r\n    PassedPayDay = false;\r\n    DoublePayDay = false;\r\n    PassedPayDayCounter = 0;\r\n    DoublePayDayCounter = 0;\r\n\r\n    //cards functionality\r\n    _nextTurnDoublePay = false;\r\n    _skipNextTurn = false;\r\n    _skipNextPayday = false; //skip whole pay day\r\n    _skipHMNextPayday = false; //skip pay day for home based businessess only\r\n    _skipBMNextPayday = false; //skip pay day for brick & mortar businessess only\r\n    CardEventReceived = false;\r\n    TurnInProgress = false;\r\n\r\n    Backspaces = 3;\r\n    isGameOver = false;\r\n\r\n    CardDisplaySetTimout = null;\r\n    TotalCounterReached = false;\r\n    NoCardFunctionality = false;\r\n  },\r\n\r\n  InputTestDice1(_val) {\r\n    if (_isTest) {\r\n      _diceinput1 = _val;\r\n    }\r\n  },\r\n\r\n  InputTestDice2(_val) {\r\n    if (_isTest) {\r\n      _diceinput2 = _val;\r\n    }\r\n  },\r\n\r\n  //#region All Functions of GameManager\r\n\r\n  /**\r\n    @summary called when instance of class is created\r\n   **/\r\n  onLoad() {\r\n    this.ResetAllVariables();\r\n    this.ResetPayDay();\r\n    GameManager.Instance = this;\r\n    this.TurnNumber = 0;\r\n    this.TurnCompleted = false;\r\n    TurnCheckArray = [];\r\n    this.CheckReferences();\r\n    this.SelectedMode = GamePlayReferenceManager.Instance.Get_MultiplayerController().GetSelectedMode();\r\n    this.Init_GameManager();\r\n\r\n    this.RandomCardIndex = 0;\r\n    this.CardCounter = 0;\r\n    this.CardDisplayed = false;\r\n    CardEventReceived = false;\r\n  },\r\n\r\n  ResetPayDay() {\r\n    console.log(\"reseting payday\");\r\n    _skipNextPayday = false;\r\n    _skipHMNextPayday = false;\r\n    _skipBMNextPayday = false;\r\n    PassedPayDay = false;\r\n    DoublePayDay = false;\r\n    PassedPayDayCounter = 0;\r\n    DoublePayDayCounter = 0;\r\n    _nextTurnDoublePay = false;\r\n    _nextTurnhalfPay = false;\r\n  },\r\n\r\n  /**\r\n    @summary called to assign reference of required classes\r\n   **/\r\n  CheckReferences() {\r\n    if (!GamePlayReferenceManager || GamePlayReferenceManager == null) GamePlayReferenceManager = require(\"GamePlayReferenceManager\");\r\n  },\r\n\r\n  /**\r\n    @summary initial gamemanager essetials\r\n   **/\r\n  Init_GameManager() {\r\n    this.Camera = this.CameraNode.getComponent(cc.Camera);\r\n    this.isCameraZooming = false;\r\n    this.PlayerGameInfo = [];\r\n    RollCounter = 0;\r\n    DiceTemp = 0;\r\n    DiceRoll = 0;\r\n\r\n    if (this.SelectedMode == 2) {\r\n      //game is being played by real players\r\n      //if joined player is spectate\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().CheckSpectate() == true) {\r\n        //console.log(\"status of initial business setp: \"+GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().getCustomProperty(\"InitialSetup\"));\r\n\r\n        //if inital setup has been done and game is under way\r\n        if (GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().getCustomProperty(\"InitialSetup\") == true) {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleLeaveRoomButton_SpectateModeUI(true);\r\n          var AllData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().getCustomProperty(\"PlayerGameInfo\");\r\n          this.PlayerGameInfo = AllData;\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers = this.PlayerGameInfo.length;\r\n          this.SyncAllData_SpectateManager();\r\n          this.TurnNumber = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().getCustomProperty(\"TurnNumber\");\r\n          this.UpdateGameUI(true, this.TurnNumber);\r\n          //console.log(this.PlayerGameInfo);\r\n          //this.SyncDataToPlayerGameInfo(0);\r\n        } else {\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers = 8;\r\n          //this.EnablePlayerNodes();\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleLeaveRoomButton_SpectateModeUI(true);\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().InitialScreen_SpectateMode();\r\n        }\r\n      } else {\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().StartNewBusiness_BusinessSetup(true, false, this.SelectedMode);\r\n      }\r\n    } else if (this.SelectedMode == 1) {\r\n      //game is being played by bot along with one player\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().StartNewBusiness_BusinessSetup(true, false, this.SelectedMode);\r\n    }\r\n  },\r\n\r\n  //#region public functions to get data (accessible from other classes)\r\n  GetTurnNumber() {\r\n    return this.TurnNumber;\r\n  },\r\n\r\n  /**\r\n    @summary get my index in array of PlayerGameInfo \r\n   **/\r\n  GetMyIndex() {\r\n    var myIndex = 0;\r\n    var _actor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    var _allActors = this.PlayerGameInfo;\r\n\r\n    for (let index = 0; index < _allActors.length; index++) {\r\n      if (_actor.PlayerUID == _allActors[index].PlayerUID) {\r\n        myIndex = index;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return myIndex;\r\n  },\r\n\r\n  GetMyPlayerUID() {\r\n    var _UID = \"\";\r\n    var _actor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    var _allActors = this.PlayerGameInfo;\r\n\r\n    for (let index = 0; index < _allActors.length; index++) {\r\n      if (_actor.PlayerUID == _allActors[index].PlayerUID) {\r\n        _UID=_actor.PlayerUID ;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return _UID;\r\n  },\r\n  //#endregion\r\n\r\n  //#region SpectateMode Code\r\n\r\n  SyncAllData_SpectateManager() {\r\n    var AllData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().getCustomProperty(\"PlayerGameInfo\");\r\n    this.PlayerGameInfo = AllData;\r\n    this.SyncDataToPlayerGameInfo(0);\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers = this.PlayerGameInfo.length;\r\n    this.AssignPlayerGameUI();\r\n    this.EnablePlayerNodes();\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().CloseInitialScreen_SpectateMode();\r\n\r\n    console.log(\"syncing all data for spectate\");\r\n    for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n      if (this.PlayerGameInfo[index].PlayerRollCounter > 0 && this.PlayerGameInfo[index].InitialCounterAssigned == true && !this.PlayerGameInfo[index].isGameFinished) {\r\n        var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[this.PlayerGameInfo[index].PlayerRollCounter].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[this.PlayerGameInfo[index].PlayerRollCounter].ReferenceLocation.position.y);\r\n        this.AllPlayerNodes[index].setPosition(_toPos.x, _toPos.y);\r\n        console.log(\"setting pos1\");\r\n      } else {\r\n        console.log(\"player counter: \" + this.PlayerGameInfo[index].PlayerRollCounter);\r\n        console.log(\"Initial Counter Assigned: \" + this.PlayerGameInfo[index].InitialCounterAssigned);\r\n        console.log(\"game finished : \" + this.PlayerGameInfo[index].isGameFinished);\r\n      }\r\n\r\n      if (this.PlayerGameInfo[index].isGameFinished) {\r\n        var _lastIndex = GamePlayReferenceManager.Instance.Get_SpaceManager().Data.length - 1;\r\n        var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[_lastIndex].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[_lastIndex].ReferenceLocation.position.y);\r\n        this.AllPlayerNodes[index].setPosition(_toPos.x, _toPos.y);\r\n        console.log(\"setting pos2\");\r\n      }\r\n    }\r\n\r\n    //console.log(\"synced playernodes\");\r\n\r\n    for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers; index++) {\r\n      this.AllPlayerNodes[index].active = true;\r\n    }\r\n  },\r\n\r\n  CheckTurnOnSpectateLeave_SpectateManager() {\r\n    var TotalConnectedPlayers = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorCount();\r\n    if (TurnCheckArray.length == TotalConnectedPlayers) {\r\n      TurnCheckArray = [];\r\n      this.TurnCompleted = true;\r\n      console.log(\"reseting for spectate\");\r\n      if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n        this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = RollCounter;\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[this.TurnNumber]);\r\n        this.ChangeTurn();\r\n        console.log(GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor());\r\n        console.log(\"Change Turn is called by: \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n      }\r\n    }\r\n  },\r\n\r\n  //#endregion\r\n\r\n  //#region functions related to Turn Mechanism and card mechanism\r\n\r\n  /**\r\n    @summary raised event on all connected clients to let others know a what card has been selected by player\r\n   **/\r\n  RaiseEventForCard(_data) {\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(5, _data);\r\n  },\r\n\r\n  ClearDisplayTimeout() {\r\n    clearTimeout(CardDisplaySetTimout);\r\n  },\r\n\r\n  DisplayCardOnOthers() {\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      console.log(\"card event received: \" + CardEventReceived);\r\n      if (CardEventReceived == true) {\r\n        clearTimeout(CardDisplaySetTimout);\r\n        //console.error(this.CardCounter);\r\n        CardEventReceived = false;\r\n        if (!this.CardDisplayed) {\r\n          this.CardDisplayed = true;\r\n          GamePlayReferenceManager.Instance.Get_SpaceManager().Data[this.CardCounter].ReferenceLocation.getComponent(\"SpaceHandler\").OnLandedOnSpace(false, this.RandomCardIndex);\r\n        }\r\n      } else {\r\n        CardDisplaySetTimout = setTimeout(() => {\r\n          //check after every 0.5 seconds\r\n          this.DisplayCardOnOthers();\r\n        }, 1000);\r\n      }\r\n    }\r\n  },\r\n\r\n  ResetCardDisplay() {\r\n    this.CardDisplayed = false;\r\n  },\r\n\r\n  ReceiveEventForCard(_data) {\r\n    this.CheckReferences();\r\n    console.log(\"Card Data Received:\");\r\n    console.log(_data);\r\n\r\n    var RandomCard = _data.randomCard;\r\n    var counter = _data.counter;\r\n\r\n    this.RandomCardIndex = RandomCard;\r\n    this.CardCounter = counter;\r\n\r\n    if (this.SelectedMode == 2) {\r\n      if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID)\r\n        GamePlayReferenceManager.Instance.Get_SpaceManager().Data[counter].ReferenceLocation.getComponent(\"SpaceHandler\").OnLandedOnSpace(true, RandomCard);\r\n      else CardEventReceived = true;\r\n    } else if (this.SelectedMode == 1) {\r\n      if (this.PlayerGameInfo[this.TurnNumber].IsBot == false) GamePlayReferenceManager.Instance.Get_SpaceManager().Data[counter].ReferenceLocation.getComponent(\"SpaceHandler\").OnLandedOnSpace(true, RandomCard);\r\n      else GamePlayReferenceManager.Instance.Get_SpaceManager().Data[counter].ReferenceLocation.getComponent(\"SpaceHandler\").OnLandedOnSpace(false, RandomCard, true);\r\n    }\r\n\r\n    // console.error(CardEventReceived);\r\n  },\r\n\r\n  /**\r\n    @summary raised event on all connected clients to let others know a particular player has complete their move\r\n   **/\r\n  RaiseEventTurnComplete() {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(4, GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID);\r\n      }\r\n    } else if (this.SelectedMode == 1) {\r\n      console.log(\"raised for turn complete\");\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(4, this.PlayerGameInfo[this.TurnNumber].PlayerUID);\r\n    }\r\n  },\r\n\r\n  SyncAllData() {\r\n    if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[this.TurnNumber]);\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().setCustomProperty(\"PlayerGameInfo\", this.PlayerGameInfo, true);\r\n    }\r\n  },\r\n\r\n  RemoveFromCheckArray(_uid) {\r\n    if (this.SelectedMode == 2) {\r\n      var _ind = -1;\r\n\r\n      for (let index = 0; index < TurnCheckArray.length; index++) {\r\n        if (TurnCheckArray[index] == _uid) _ind = index;\r\n      }\r\n\r\n      if (_ind != -1) {\r\n        console.log(\"removing from turn check array\");\r\n        TurnCheckArray.splice(_ind, 1);\r\n      }\r\n    }\r\n  },\r\n\r\n  CheckTurnComplete() {\r\n    var TotalConnectedPlayers = 0;\r\n\r\n    for (let j = 0; j < this.PlayerGameInfo.length; j++) {\r\n      if (this.PlayerGameInfo[j].IsActive) TotalConnectedPlayers++;\r\n    }\r\n\r\n    console.log(\"Turn Check: \" + TurnCheckArray.length);\r\n    console.log(\"Total Connected Players: \" + TotalConnectedPlayers);\r\n    console.log(TurnCheckArray);\r\n\r\n    if (TurnCheckArray.length >= TotalConnectedPlayers) {\r\n      TurnCheckArray = [];\r\n      this.TurnCompleted = true;\r\n\r\n      if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n        this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = RollCounter;\r\n        //this.SyncAllData();\r\n        this.ChangeTurn();\r\n        console.log(GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor());\r\n        console.log(\"Change Turn is called by: \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n    @summary called on all players to validate if move is completed on all connected clients\r\n   **/\r\n  ReceiveEventTurnComplete(_uid) {\r\n    if (this.SelectedMode == 2) {\r\n      //real players\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        if (TurnCheckArray.length == 0) TurnCheckArray.push(_uid);\r\n\r\n        var ArrayLength = TurnCheckArray.length;\r\n        var IDFound = false;\r\n        for (let index = 0; index < ArrayLength; index++) {\r\n          if (TurnCheckArray[index] == _uid) IDFound = true;\r\n        }\r\n\r\n        if (!IDFound) {\r\n          TurnCheckArray.push(_uid);\r\n        }\r\n\r\n        this.CheckTurnComplete();\r\n      }\r\n    } else if (this.SelectedMode == 1) {\r\n      this.TurnCompleted = true;\r\n      this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = RollCounter;\r\n      this.ChangeTurn();\r\n    }\r\n  },\r\n\r\n  /**\r\n    @summary called when dice animation is played on all players\r\n   **/\r\n  ChangeTurn() {\r\n    if (this.SelectedMode == 2) {\r\n      this.SyncAllData();\r\n    }\r\n\r\n    if (this.TurnNumber < this.PlayerGameInfo.length - 1) this.TurnNumber = this.TurnNumber + 1;\r\n    else this.TurnNumber = 0;\r\n\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(2, this.TurnNumber);\r\n  },\r\n\r\n  ResetSomeValues() {\r\n    //TurnCheckArray = [];\r\n    //this.TurnCompleted = true;\r\n  },\r\n\r\n  ChangeTurnForcefully() {\r\n    if (IsTweening) {\r\n      clearTimeout(ForceChangeTimeOut);\r\n      ForceChangeTimeOut = setTimeout(() => {\r\n        this.ChangeTurnForcefully();\r\n      }, 1000);\r\n    } else {\r\n      clearTimeout(ForceChangeTimeOut);\r\n      this.ChangeTurn();\r\n    }\r\n  },\r\n\r\n  UpdateVisualData() {\r\n    for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n    }\r\n  },\r\n\r\n  /**\r\n    @summary called from raise on event (from function \"StartTurn\" and \"ChangeTurn\" of this same class) to handle turn\r\n   **/\r\n  TurnHandler(_turn) {\r\n    if (this.SelectedMode == 2) {\r\n      var _isMaster = GamePlayReferenceManager.Instance.Get_MultiplayerController().CheckCurrentActiveMasterClient();\r\n      if (!this.PlayerGameInfo[_turn].IsActive) {\r\n        if (_isMaster) {\r\n          this.ChangeTurn();\r\n          return;\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    //this.ClearDisplayTimeout();\r\n    this.UpdateVisualData();\r\n    console.log(\"Turn: \" + _turn);\r\n    var _playerMatched = false;\r\n    _skipNextTurn = false;\r\n    if (IsTweening) {\r\n      //check if animation of turn being played on other players\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == true) {\r\n        IsTweening = false;\r\n      }\r\n\r\n      setTimeout(() => {\r\n        if (!isGameOver) {\r\n          this.TurnHandler(_turn);\r\n        }\r\n      }, 800);\r\n    } else {\r\n      this.TurnNumber = _turn;\r\n      if (this.SelectedMode == 2) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          _playerMatched = true;\r\n          _skipNextTurn = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextTurn;\r\n          if (!this.PlayerGameInfo[this.TurnNumber].isGameFinished) {\r\n            this.ToggleTurnProgress(true);\r\n            if (!_skipNextTurn) {\r\n              if (this.PlayerGameInfo[this.TurnNumber].CardFunctionality.BankruptedNextTurn) {\r\n                GamePlayReferenceManager.Instance.Get_GameplayUIManager().ResetTurnVariable();\r\n                this.PlayerGameInfo[this.TurnNumber].CardFunctionality.BankruptedNextTurn = false;\r\n                GamePlayReferenceManager.Instance.Get_GameplayUIManager().StartNewGame_BankRupted(\"You were bankrupted and will start from begin.\");\r\n                return;\r\n              } else {\r\n                setTimeout(() => {\r\n                  GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleDecision_TurnDecision(true);\r\n                  GamePlayReferenceManager.Instance.Get_GameplayUIManager().ResetTurnVariable();\r\n                  IsTweening = false;\r\n                }, 1000);\r\n              }\r\n              console.log(\"its your turn \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n            }\r\n          }\r\n        } else {\r\n          this.ToggleTurnProgress(false);\r\n        }\r\n      } else if (this.SelectedMode == 1) {\r\n        // console.log(this.PlayerGameInfo[this.TurnNumber].IsBot);\r\n        // console.log(this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextTurn);\r\n        // console.log(userGameOver);\r\n        if (this.PlayerGameInfo[this.TurnNumber].IsBot == false) {\r\n          _playerMatched = true;\r\n          _skipNextTurn = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextTurn;\r\n          if (!userGameOver) {\r\n            this.ToggleTurnProgress(true);\r\n            if (!_skipNextTurn) {\r\n              setTimeout(() => {\r\n                IsTweening = false;\r\n                GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleDecision_TurnDecision(true);\r\n                GamePlayReferenceManager.Instance.Get_GameplayUIManager().ResetTurnVariable();\r\n              }, 1000);\r\n              console.log(\"its your turn \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n            }\r\n          }\r\n        } //turn decisions for bot\r\n        else {\r\n          _playerMatched = true;\r\n          _skipNextTurn = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextTurn;\r\n          if (!BotGameOver) {\r\n            this.ToggleTurnProgress(false);\r\n            if (!_skipNextTurn) {\r\n              setTimeout(() => {\r\n                IsTweening = false;\r\n                this.RollDice();\r\n              }, 1000);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      this.UpdateGameUI(true, this.TurnNumber);\r\n\r\n      for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.active = false;\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n      }\r\n\r\n      if (this.SelectedMode == 2) {\r\n        //for real players\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().setCustomProperty(\"TurnNumber\", this.TurnNumber, true);\r\n        console.log(\"Turn Of: \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n        console.log(this.AllPlayerUI[this.TurnNumber].getComponent(\"PlayerProfileManager\").PlayerInfo);\r\n        console.log(GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor());\r\n        console.log(GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray());\r\n        this.SyncDataToPlayerGameInfo(0);\r\n\r\n        //force sync spectator after completion of each turn\r\n        if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == true) this.SyncAllData_SpectateManager();\r\n      }\r\n\r\n      //skip this turn as skip turn has been called before\r\n      if (_playerMatched && _skipNextTurn) {\r\n        IsTweening = false;\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Skipping current turn\", 1200);\r\n        this.ToggleSkipNextTurn(false);\r\n        this.ChangeTurn();\r\n        this.ToggleTurnProgress(false);\r\n        return;\r\n      }\r\n\r\n      if (_playerMatched && this.PlayerGameInfo[this.TurnNumber].isGameFinished) {\r\n        setTimeout(() => {\r\n          IsTweening = false;\r\n          this.ChangeTurn();\r\n          this.ToggleTurnProgress(false);\r\n          return;\r\n        }, 500);\r\n      }\r\n    }\r\n\r\n    this.UpdateUIData();\r\n  },\r\n\r\n  SyncDataToPlayerGameInfo(_ind) {\r\n    var MainSessionData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n    var MyData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor();\r\n    var _counter = _ind;\r\n    // console.log(this.PlayerGameInfo[_counter].PlayerUID);\r\n    //  console.log(MyData.customProperties.PlayerSessionData.PlayerUID);\r\n\r\n    for (let index = 0; index < MainSessionData.length; index++) {\r\n      if (this.PlayerGameInfo[_counter].IsActive == false) {\r\n        if (_counter < this.PlayerGameInfo.length - 1) {\r\n          _counter++;\r\n          this.SyncDataToPlayerGameInfo(_counter);\r\n        } else {\r\n          console.log(\"synced Data:\");\r\n          console.log(this.PlayerGameInfo);\r\n        }\r\n      } else {\r\n        if (this.PlayerGameInfo[_counter].PlayerUID == MainSessionData[index].customProperties.PlayerSessionData.PlayerUID) {\r\n          this.PlayerGameInfo[_counter] = MainSessionData[index].customProperties.PlayerSessionData;\r\n\r\n          if (_counter < this.PlayerGameInfo.length - 1) {\r\n            _counter++;\r\n            //console.log(\"adding counter: \"+_counter);\r\n            this.SyncDataToPlayerGameInfo(_counter);\r\n          } else {\r\n            console.log(\"synced Data:\");\r\n            console.log(this.PlayerGameInfo);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n    @summary called when all players have done their initial setup and first turn starts\r\n    @method StartTurn\r\n    @param {string} none\r\n    @returns {boolean} no return\r\n   **/\r\n  StartTurn() {\r\n    console.log(this.PlayerGameInfo);\r\n    this.AssignPlayerGameUI();\r\n    this.EnablePlayerNodes();\r\n    this.TurnNumber = 0; //reseting the turn number on start of the game\r\n\r\n    //sending initial turn number over the network to start turn simultanously on all connected player's devices\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(2, this.TurnNumber);\r\n  },\r\n\r\n  ReceiveBankruptData(_data) {\r\n    //other player has been bankrupted\r\n    var _isBankrupted = _data.Data.bankrupted;\r\n    var _turn = _data.Data.turn;\r\n    var _playerData = _data.Data.PlayerDataMain;\r\n\r\n    console.log(_data);\r\n    // console.log(_isBankrupted);\r\n    // console.log(_turn);\r\n    // console.log(_playerData);\r\n\r\n    this.PlayerGameInfo[_turn] = _playerData;\r\n\r\n    this.AssignPlayerGameUI(true);\r\n    this.EnablePlayerNodes(true);\r\n\r\n    this.UpdateGameUI(true, this.TurnNumber);\r\n\r\n    for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.active = false;\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n    }\r\n\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().setCustomProperty(\"TurnNumber\", this.TurnNumber, true);\r\n      this.SyncDataToPlayerGameInfo(0);\r\n\r\n      //force sync spectator after completion of each turn\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == true) this.SyncAllData_SpectateManager();\r\n    }\r\n  },\r\n\r\n  StartTurnAfterBankrupt() {\r\n    this.AssignPlayerGameUI(true);\r\n    this.EnablePlayerNodes(true);\r\n    setTimeout(() => {\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleDecision_TurnDecision(true);\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ResetTurnVariable();\r\n    }, 1000);\r\n\r\n    this.UpdateGameUI(true, this.TurnNumber);\r\n\r\n    for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.active = false;\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n    }\r\n\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().setCustomProperty(\"TurnNumber\", this.TurnNumber, true);\r\n      this.SyncDataToPlayerGameInfo(0);\r\n\r\n      //force sync spectator after completion of each turn\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == true) this.SyncAllData_SpectateManager();\r\n    }\r\n  },\r\n  //#endregion\r\n\r\n  //#region Function for gameplay\r\n  /**\r\n    @summary called to assign player UI (name/icons/number of players that to be active etc)\r\n    @method AssignPlayerGameUI\r\n    @param {string} none\r\n    @returns {boolean} no return\r\n   **/\r\n  AssignPlayerGameUI(_isBankrupted = false) {\r\n    if (this.SelectedMode == 1) {\r\n      //for bot\r\n      if (!_isBankrupted) {\r\n        var _randomIndex = this.getRandom(0, this.BotGameInfo.length);\r\n        this.PlayerGameInfo.push(this.BotGameInfo[_randomIndex]);\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers = 2;\r\n      }\r\n    }\r\n\r\n    for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers; index++) {\r\n      this.AllPlayerUI[index].active = true;\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").PlayerInfo = this.PlayerGameInfo[index];\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").SetName(this.PlayerGameInfo[index].PlayerName);\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").SetAvatar(this.PlayerGameInfo[index].AvatarID);\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n    }\r\n  },\r\n\r\n  UpdateGameUI(_toggleHighlight, _index) {\r\n    if (_toggleHighlight) {\r\n      this.AllPlayerUI[_index].getComponent(\"PlayerProfileManager\").PlayerInfo = this.PlayerGameInfo[_index];\r\n\r\n      for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers; index++) {\r\n        if (_index == index) {\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").ToggleBGHighlighter(true);\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").ToggleTextighlighter(true);\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n        } else {\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").ToggleBGHighlighter(false);\r\n          this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").ToggleTextighlighter(false);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n    @summary called to enbale respective players nodes inside gamaplay\r\n    @method EnablePlayerNodes\r\n    @param {string} none\r\n    @returns {boolean} no return\r\n   **/\r\n  EnablePlayerNodes(_isBankrupted = false) {\r\n    if (!_isBankrupted) {\r\n      for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n        if (this.PlayerGameInfo[index].HomeBasedAmount == 1 && !this.PlayerGameInfo[index].InitialCounterAssigned) this.AllPlayerNodes[index].setPosition(this.StartLocationNodes[0].position.x, this.StartLocationNodes[0].position.y);\r\n        else if (this.PlayerGameInfo[index].BrickAndMortarAmount == 1 && !this.PlayerGameInfo[index].InitialCounterAssigned) this.AllPlayerNodes[index].setPosition(this.StartLocationNodes[1].position.x, this.StartLocationNodes[1].position.y);\r\n      }\r\n    } else {\r\n      if (this.PlayerGameInfo[this.TurnNumber].HomeBasedAmount == 1) this.AllPlayerNodes[this.TurnNumber].setPosition(this.StartLocationNodes[0].position.x, this.StartLocationNodes[0].position.y);\r\n      else if (this.PlayerGameInfo[this.TurnNumber].BrickAndMortarAmount == 1) this.AllPlayerNodes[this.TurnNumber].setPosition(this.StartLocationNodes[1].position.x, this.StartLocationNodes[1].position.y);\r\n    }\r\n\r\n    for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().MaxPlayers; index++) {\r\n      this.AllPlayerNodes[index].active = true;\r\n    }\r\n\r\n    for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n      this.AllPlayerNodes[index].children[0].getComponent(cc.Sprite).spriteFrame = GamePlayReferenceManager.Instance.Get_GameplayUIManager().AvatarSprites[this.PlayerGameInfo[index].AvatarID];\r\n    }\r\n  },\r\n\r\n  SetFollowCameraProperties() {\r\n    let targetPos = this.AllPlayerNodes[this.TurnNumber].convertToWorldSpaceAR(cc.Vec2(0, 120));\r\n    this.CameraNode.position = this.CameraNode.parent.convertToNodeSpaceAR(targetPos);\r\n\r\n    let ratio = targetPos.y / cc.winSize.height;\r\n    this.Camera.zoomRatio = 2;\r\n  },\r\n\r\n  lateUpdate() {\r\n    if (this.isCameraZooming) this.SetFollowCameraProperties();\r\n  },\r\n\r\n  syncDiceRoll(_roll) {\r\n    var _dice1 = _roll.dice1;\r\n    var _dice2 = _roll.dice2;\r\n    var _result = _dice1 + _dice2;\r\n\r\n    IsTweening = true;\r\n    this.CardDisplayed = false;\r\n\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray().length; index++) {\r\n        if (GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray()[index].customProperties.Data.userID == this.PlayerGameInfo[this.TurnNumber].PlayerUID) {\r\n          console.log(\"player matched:\" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n          this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray()[index].customProperties.PlayerSessionData.PlayerRollCounter;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter == 0 && !this.PlayerGameInfo[this.TurnNumber].InitialCounterAssigned) {\r\n      if (this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[0].BusinessType == 2) {\r\n        RollCounter = 0;\r\n        this.PlayerGameInfo[this.TurnNumber].InitialCounterAssigned = true;\r\n        console.error(RollCounter);\r\n      } else {\r\n        this.PlayerGameInfo[this.TurnNumber].InitialCounterAssigned = true;\r\n        RollCounter = 14;\r\n        console.error(RollCounter);\r\n      }\r\n    } else {\r\n      if (this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter == 13) this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter + 22;\r\n      else this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter + 1;\r\n\r\n      RollCounter = this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter;\r\n      console.error(RollCounter - 1);\r\n    }\r\n\r\n    DiceRoll = _result;\r\n    DiceTemp = 0;\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().PrintDiceValue_TurnDecision(DiceRoll);\r\n\r\n    for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n      if (this.TurnNumber == index) {\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.active = true;\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.getComponent(\"DiceController\").AnimateDice(_dice1, _dice2);\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n      } else {\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").DiceRollScreen.active = false;\r\n        this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n      }\r\n    }\r\n\r\n    this.UpdateUIData();\r\n    // let targetPos=this.AllPlayerNodes[this.TurnNumber].convertToWorldSpaceAR(cc.Vec2(0,120));\r\n    // var _pos=this.CameraNode.parent.convertToNodeSpaceAR(targetPos);\r\n    // this.TweenCamera(_pos,true,0.4);\r\n  },\r\n\r\n  UpdateUIData() {\r\n    if (this.SelectedMode == 2) {\r\n      this.SyncDataToPlayerGameInfo(0);\r\n    }\r\n\r\n    for (let index = 0; index < this.AllPlayerUI.length; index++) {\r\n      this.AllPlayerUI[index].getComponent(\"PlayerProfileManager\").RefreshDataAutomatically();\r\n    }\r\n  },\r\n  DiceFuntionality() {\r\n    let targetPos = this.AllPlayerNodes[this.TurnNumber].convertToWorldSpaceAR(cc.Vec2(0, 120));\r\n    var _pos = this.CameraNode.parent.convertToNodeSpaceAR(targetPos);\r\n    this.TweenCamera(_pos, true, 0.4);\r\n  },\r\n\r\n  TempCheckSpace(_rolling) {\r\n    var tempcounter = 0;\r\n    var tempcounter2 = 0;\r\n    for (let index = 0; index < GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray().length; index++) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray()[index].customProperties.Data.userID == this.PlayerGameInfo[this.TurnNumber].PlayerUID) {\r\n        //console.log(\"player matched:\"+this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n        tempcounter2 = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray()[index].customProperties.PlayerSessionData.PlayerRollCounter;\r\n      }\r\n    }\r\n\r\n    if (tempcounter2 - 1 < 0) {\r\n      console.error(\"starting from oblivion\");\r\n      tempcounter = tempcounter2 + _rolling - 1;\r\n      var dicetobe = parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[tempcounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType);\r\n      console.error(\"to be: \" + dicetobe);\r\n    } else {\r\n      tempcounter = tempcounter2 + _rolling;\r\n      var dicetobe = parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[tempcounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType);\r\n      console.error(\"to be: \" + dicetobe);\r\n    }\r\n  },\r\n\r\n  RollDice: function () {\r\n    if (!isGameOver) {\r\n      var Dice1;\r\n      var Dice2;\r\n      if (_isTest && this.PlayerGameInfo[this.TurnNumber].IsBot == false) {\r\n        Dice1 = parseInt(_diceinput1);\r\n        Dice2 = parseInt(_diceinput2);\r\n      } else if (this.PlayerGameInfo[this.TurnNumber].IsBot == true && _isTest) {\r\n        Dice1 = 5;\r\n        Dice2 = 1;\r\n      } else {\r\n        Dice1 = this.getRandom(1, 7);\r\n        Dice2 = this.getRandom(1, 7);\r\n\r\n        if (PreviousDiceRoll1 == Dice1) Dice1 = this.getRandom(1, 7);\r\n\r\n        if (PreviousDiceRoll2 == Dice2) Dice2 = this.getRandom(1, 7);\r\n\r\n        PreviousDiceRoll1 = Dice1;\r\n        PreviousDiceRoll2 = Dice2;\r\n      }\r\n\r\n      // var Dice1=20;\r\n      // var Dice2=1;\r\n\r\n      DiceRoll = Dice1 + Dice2;\r\n      var _newRoll = { dice1: Dice1, dice2: Dice2 };\r\n      //DiceRoll=23;\r\n      //this.TempCheckSpace(DiceRoll);\r\n      console.log(\"dice number: \" + DiceRoll + \", Dice1:\" + Dice1 + \", Dice2:\" + Dice2);\r\n\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(3, _newRoll);\r\n    }\r\n  },\r\n\r\n  RollOneDice() {\r\n    var Dice1 = this.getRandom(1, 7);\r\n\r\n    if (PreviousDiceRoll5 == Dice1) Dice1 = this.getRandom(1, 7);\r\n\r\n    PreviousDiceRoll5 = Dice1;\r\n\r\n    return Dice1;\r\n  },\r\n\r\n  RollTwoDices() {\r\n    var Dice1 = this.getRandom(1, 7);\r\n    var Dice2 = this.getRandom(1, 7);\r\n\r\n    if (PreviousDiceRoll3 == Dice1) Dice1 = this.getRandom(1, 7);\r\n\r\n    if (PreviousDiceRoll4 == Dice2) Dice2 = this.getRandom(1, 7);\r\n\r\n    PreviousDiceRoll3 = Dice1;\r\n    PreviousDiceRoll4 = Dice2;\r\n\r\n    return Dice1 + Dice2;\r\n  },\r\n\r\n  PopulateDecksArray(_isBigBusiness = false, _isLosses = false, _isMarketing = false, _isWildCard = false, _data = null) {\r\n    // BigBusinessArray = [];\r\n    // LossesArray = [];\r\n    // MarketingArray = [];\r\n    // WildCardArray = [];\r\n    // BigBusinessArrayCounter = 0;\r\n    // LossesArrayCounter = 0;\r\n    // MarketingArrayCounter = 0;\r\n    // WildCardArrayCounter = 0;\r\n\r\n    if (_isBigBusiness) {\r\n      if (_data == null) {\r\n        BigBusinessArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n\r\n        BigBusinessArray.sort(() => 0.5 - Math.random());\r\n\r\n        console.log(BigBusinessArray);\r\n        BigBusinessArrayCounter = 0;\r\n\r\n        var _tempData = { BigArray: BigBusinessArray, LossArray: null, MarketArray: null, WildArrya: null };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(19, _tempData);\r\n      }\r\n    } else if (_isLosses) {\r\n      if (_data == null) {\r\n        LossesArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n\r\n        LossesArray.sort(() => 0.5 - Math.random());\r\n\r\n        console.log(LossesArray);\r\n        LossesArrayCounter = 0;\r\n\r\n        var _tempData = { BigArray: null, LossArray: LossesArray, MarketArray: null, WildArrya: null };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(19, _tempData);\r\n      }\r\n    } else if (_isMarketing) {\r\n      if (_data == null) {\r\n        MarketingArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14];\r\n\r\n        MarketingArray.sort(() => 0.5 - Math.random());\r\n\r\n        console.log(MarketingArray);\r\n        MarketingArrayCounter = 0;\r\n\r\n        var _tempData = { BigArray: null, LossArray: null, MarketArray: MarketingArray, WildArrya: null };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(19, _tempData);\r\n      }\r\n    } else if (_isWildCard) {\r\n      if (_data == null) {\r\n        WildCardArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,12,13,14];\r\n\r\n        WildCardArray.sort(() => 0.5 - Math.random());\r\n\r\n        console.log(WildCardArray);\r\n        WildCardArrayCounter = 0;\r\n\r\n        var _tempData = { BigArray: null, LossArray: null, MarketArray: null, WildArrya: WildCardArray };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(19, _tempData);\r\n      }\r\n    }\r\n\r\n    if (_data != null) {\r\n      if (_data.BigArray != null) {\r\n        BigBusinessArray = _data.BigArray;\r\n        console.log(BigBusinessArray);\r\n        BigBusinessArrayCounter = 0;\r\n      }\r\n\r\n      if (_data.LossArray != null) {\r\n        LossesArray = _data.LossArray;\r\n        console.log(LossesArray);\r\n        LossesArrayCounter = 0;\r\n      }\r\n\r\n      if (_data.MarketArray != null) {\r\n        MarketingArray = _data.MarketArray;\r\n        console.log(MarketingArray);\r\n        MarketingArrayCounter = 0;\r\n      }\r\n\r\n      if (_data.WildArrya != null) {\r\n        WildCardArray = _data.WildArrya;\r\n        console.log(WildCardArray);\r\n        WildCardArrayCounter = 0;\r\n      }\r\n    }\r\n  },\r\n\r\n  GetBigBusinessIndex(_index) {\r\n    var _val = -1;\r\n    if (BigBusinessArray.length > 0) {\r\n      if (BigBusinessArrayCounter < BigBusinessArray.length) {\r\n        _val = BigBusinessArray[BigBusinessArrayCounter];\r\n        BigBusinessArrayCounter++;\r\n        var _tempData = { BigArray: true, LossArray: false, MarketArray: false, WildArrya: false };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(20, _tempData);\r\n      } else {\r\n        this.PopulateDecksArray(true, false, false, false, null);\r\n      }\r\n    } else {\r\n      this.PopulateDecksArray(true, false, false, false, null);\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  GetLossesIndex(_index) {\r\n    var _val = -1;\r\n    if (LossesArray.length > 0) {\r\n      if (LossesArrayCounter < LossesArray.length) {\r\n        _val = LossesArray[LossesArrayCounter];\r\n        LossesArrayCounter++;\r\n        var _tempData = { BigArray: false, LossArray: true, MarketArray: false, WildArrya: false };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(20, _tempData);\r\n      } else {\r\n        this.PopulateDecksArray(false, true, false, false, null);\r\n      }\r\n    } else {\r\n      this.PopulateDecksArray(false, true, false, false, null);\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  GetMarketingIndex(_index) {\r\n    var _val = -1;\r\n    if (MarketingArray.length > 0) {\r\n      if (MarketingArrayCounter < MarketingArray.length) {\r\n        _val = MarketingArray[MarketingArrayCounter];\r\n        MarketingArrayCounter++;\r\n        var _tempData = { BigArray: false, LossArray: false, MarketArray: true, WildArrya: false };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(20, _tempData);\r\n      } else {\r\n        this.PopulateDecksArray(false, false, true, false, null);\r\n      }\r\n    } else {\r\n      this.PopulateDecksArray(false, false, true, false, null);\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  GetWildCardIndex(_index) {\r\n    var _val = -1;\r\n    if (WildCardArray.length > 0) {\r\n      if (WildCardArrayCounter < WildCardArray.length) {\r\n        _val = WildCardArray[WildCardArrayCounter];\r\n        WildCardArrayCounter++;\r\n        var _tempData = { BigArray: false, LossArray: false, MarketArray: false, WildArrya: true };\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(20, _tempData);\r\n      } else {\r\n        this.PopulateDecksArray(false, false, false, true, null);\r\n      }\r\n    } else {\r\n      this.PopulateDecksArray(false, false, false, true, null);\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  UpdateCounters(_data = null) {\r\n    if (_data.BigArray) {\r\n      BigBusinessArrayCounter++;\r\n    }\r\n    if (_data.LossArray) {\r\n      LossesArrayCounter++;\r\n    }\r\n    if (_data.MarketArray) {\r\n      MarketingArrayCounter++;\r\n    }\r\n    if (_data.WildArrya) {\r\n      WildCardArrayCounter++;\r\n    }\r\n  },\r\n\r\n  SelectRelatedCard(_isBigBusiness = false, _isLosses = false, _isMarketing = false, _isWildCard = false) {\r\n    if (_isBigBusiness) {\r\n      if (this.SelectedMode == 2) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          var index = this.GetBigBusinessIndex();\r\n          if (index == -1) {\r\n            index = this.GetBigBusinessIndex();\r\n          }\r\n          return index;\r\n        }\r\n      } else if (this.SelectedMode == 1) {\r\n        var index = this.GetBigBusinessIndex();\r\n        if (index == -1) {\r\n          index = this.GetBigBusinessIndex();\r\n        }\r\n        return index;\r\n      }\r\n    } else if (_isLosses) {\r\n      if (this.SelectedMode == 2) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          var index = this.GetLossesIndex();\r\n          if (index == -1) {\r\n            index = this.GetLossesIndex();\r\n          }\r\n          return index;\r\n        }\r\n      } else if (this.SelectedMode == 1) {\r\n        var index = this.GetLossesIndex();\r\n        if (index == -1) {\r\n          index = this.GetLossesIndex();\r\n        }\r\n        return index;\r\n      }\r\n    } else if (_isMarketing) {\r\n      if (this.SelectedMode == 2) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          var index = this.GetMarketingIndex();\r\n          if (index == -1) {\r\n            index = this.GetMarketingIndex();\r\n          }\r\n          return index;\r\n        }\r\n      } else if (this.SelectedMode == 1) {\r\n        var index = this.GetMarketingIndex();\r\n        if (index == -1) {\r\n          index = this.GetMarketingIndex();\r\n        }\r\n        return index;\r\n      }\r\n    } else if (_isWildCard) {\r\n      if (this.SelectedMode == 2) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          var index = this.GetWildCardIndex();\r\n          if (index == -1) {\r\n            index = this.GetWildCardIndex();\r\n          }\r\n          return index;\r\n        }\r\n      } else if (this.SelectedMode == 1) {\r\n        var index = this.GetWildCardIndex();\r\n        if (index == -1) {\r\n          index = this.GetWildCardIndex();\r\n        }\r\n        return index;\r\n      }\r\n    }\r\n  },\r\n\r\n  callUponCard() {\r\n    if (!isGameOver) {\r\n      if (RollCounter < GamePlayReferenceManager.Instance.Get_SpaceManager().Data.length) {\r\n        var _spaceID = parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType);\r\n        this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter = RollCounter;\r\n        if (_spaceID != 6 && _spaceID != 7) {\r\n          //6 means payday and 7 means double payday, 9 means sell space\r\n          var RandomCard = this.getRandom(0, 15);\r\n\r\n          if (_spaceID == 2) {\r\n            //landed on big business cards\r\n            RandomCard = this.SelectRelatedCard(true, false, false, false);\r\n          } else if (_spaceID == 5) {\r\n            //landed on some losses cards\r\n            RandomCard = this.SelectRelatedCard(false, true, false, false);\r\n          } else if (_spaceID == 3) {\r\n            //landed on some marketing cards\r\n            RandomCard = this.SelectRelatedCard(false, false, true, false);\r\n          } else if (_spaceID == 1) {\r\n            //landed on some wild cards\r\n            RandomCard = this.SelectRelatedCard(false, false, false, true);\r\n          }\r\n\r\n          IsTweening = false;\r\n          console.error(_spaceID);\r\n\r\n          if (this.SelectedMode == 2) {\r\n            //for real player\r\n            if (_spaceID == 12) {\r\n              // if player landed on finish space\r\n              RollCounter = RollCounter + 5;\r\n              this.StartDiceRoll();\r\n            } else {\r\n              if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n                var SendingData = { randomCard: RandomCard, counter: RollCounter };\r\n                this.RaiseEventForCard(SendingData);\r\n              } else {\r\n                this.DisplayCardOnOthers();\r\n              }\r\n            }\r\n          } else if (this.SelectedMode == 1) {\r\n            //for bot\r\n            if (_spaceID == 12) {\r\n              // if player landed on finish space\r\n              RollCounter = RollCounter + 5;\r\n              this.StartDiceRoll();\r\n            } else {\r\n              var SendingData = { randomCard: RandomCard, counter: RollCounter };\r\n              this.RaiseEventForCard(SendingData);\r\n            }\r\n          }\r\n        } else {\r\n          IsTweening = false;\r\n          console.log(\"landed on pay day or double pay day and work is done so changing turn\");\r\n          this.RaiseEventTurnComplete();\r\n        }\r\n      } else {\r\n        if (this.SelectedMode == 1) {\r\n          if (!isGameOver) {\r\n            if (this.PlayerGameInfo[this.TurnNumber].isBot && BotGameOver) this.completeCardTurn();\r\n\r\n            if (!this.PlayerGameInfo[this.TurnNumber].isBot && userGameOver) this.completeCardTurn();\r\n          }\r\n        } else if (this.SelectedMode == 2) {\r\n          if (!isGameOver) {\r\n            if (this.PlayerGameInfo[this.TurnNumber].isGameFinished) {\r\n              this.completeCardTurn();\r\n              console.error(\"complete turn is called\");\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (this.SelectedMode == 1) {\r\n        this.AllPlayersGameCompleted(true);\r\n      } else if (this.SelectedMode == 2) {\r\n        this.AllPlayersGameCompleted(false);\r\n      }\r\n    }\r\n  },\r\n\r\n  completeCardTurn() {\r\n    IsTweening = false;\r\n    console.log(\"landed on pay day or double pay day and work is done so changing turn\");\r\n    this.RaiseEventTurnComplete();\r\n  },\r\n\r\n  CallGameComplete(_isBot = false, _forceGameOver = false) {\r\n    if (_isBot == false) {\r\n      // if (_forceGameOver) {\r\n      //     this.TurnNumber = this.GetMyIndex();\r\n      // }\r\n\r\n      var _playerIndex = this.GetMyIndex();\r\n\r\n      if (!this.PlayerGameInfo[_playerIndex].IsActive) {\r\n        this.PlayerGameInfo[_playerIndex].isGameFinished = true;\r\n        this.PlayerGameInfo[_playerIndex].TotalScore = 0;\r\n        console.error(\"player is not active returning\");\r\n      } else {\r\n        if (this.PlayerGameInfo[_playerIndex].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          console.error(\"calculating....\");\r\n          console.log(\"agme is not finished\");\r\n          this.PlayerGameInfo[_playerIndex].isGameFinished = true;\r\n\r\n          var _cash = this.PlayerGameInfo[_playerIndex].Cash;\r\n          var HMAmount = GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].HomeBasedAmount;\r\n          var BMAmount = GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].BrickAndMortarAmount;\r\n          var BMLocations = GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].TotalLocationsAmount;\r\n\r\n          var loanAmount = 0;\r\n          for (let index = 0; index < GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].NoOfBusiness.length; index++) {\r\n            if (GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].NoOfBusiness[index].LoanTaken) {\r\n              loanAmount += GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].NoOfBusiness[index].LoanAmount;\r\n            }\r\n          }\r\n\r\n          var _gold = this.PlayerGameInfo[_playerIndex].GoldCount;\r\n          var _stocks = this.PlayerGameInfo[_playerIndex].StockCount;\r\n\r\n          var _diceRandom = this.RollTwoDices();\r\n          var OnceOrShare = _diceRandom * 1000;\r\n\r\n          var GoldCash = OnceOrShare * _gold;\r\n          var StockCash = OnceOrShare * _stocks;\r\n\r\n          var BMCash = (BMAmount + BMLocations) * 150000;\r\n\r\n          var HMCash = 0;\r\n          if (HMAmount == 1) HMCash = 60000;\r\n          else if (HMAmount == 2) HMCash = 25000 + 60000;\r\n          else if (HMAmount == 3) HMCash = 25000 + 25000 + 60000;\r\n\r\n          var TotalAssets = _cash + BMCash + HMCash + GoldCash + StockCash - loanAmount;\r\n\r\n          this.PlayerGameInfo[_playerIndex].TotalScore = TotalAssets;\r\n          this.PlayerGameInfo[_playerIndex].TotalHBCash = HMCash;\r\n          this.PlayerGameInfo[_playerIndex].TotalBMCash = BMCash;\r\n          this.PlayerGameInfo[_playerIndex].TotalGoldCash = GoldCash;\r\n          this.PlayerGameInfo[_playerIndex].TotalStocksCash = StockCash;\r\n          this.PlayerGameInfo[_playerIndex].TotalLoanBalance = loanAmount;\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_playerIndex]);\r\n\r\n          console.log(\"Data pushed\");\r\n        }\r\n        //console.log(this.PlayerGameInfo[this.TurnNumber])\r\n      }\r\n    } else {\r\n      for (let _playerIndex = 0; _playerIndex < this.PlayerGameInfo.length; _playerIndex++) {\r\n        this.PlayerGameInfo[_playerIndex].isGameFinished = true;\r\n\r\n        var _cash = this.PlayerGameInfo[_playerIndex].Cash;\r\n        var HMAmount = this.PlayerGameInfo[_playerIndex].HomeBasedAmount;\r\n        var BMAmount = this.PlayerGameInfo[_playerIndex].BrickAndMortarAmount;\r\n        var BMLocations = this.PlayerGameInfo[_playerIndex].TotalLocationsAmount;\r\n\r\n        var loanAmount = 0;\r\n        for (let index = 0; index < this.PlayerGameInfo[_playerIndex].NoOfBusiness.length; index++) {\r\n          if (GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].NoOfBusiness[index].LoanTaken) {\r\n            loanAmount += GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[_playerIndex].NoOfBusiness[index].LoanAmount;\r\n          }\r\n        }\r\n\r\n        var _gold = this.PlayerGameInfo[_playerIndex].GoldCount;\r\n        var _stocks = this.PlayerGameInfo[_playerIndex].StockCount;\r\n\r\n        var _diceRandom = this.RollTwoDices();\r\n        var OnceOrShare = _diceRandom * 1000;\r\n\r\n        var GoldCash = OnceOrShare * _gold;\r\n        var StockCash = OnceOrShare * _stocks;\r\n\r\n        var BMCash = (BMAmount + BMLocations) * 150000;\r\n\r\n        var HMCash = 0;\r\n        if (HMAmount == 1) HMCash = 60000;\r\n        else if (HMAmount == 2) HMCash = 25000 + 60000;\r\n        else if (HMAmount == 3) HMCash = 25000 + 25000 + 60000;\r\n\r\n        var TotalAssets = _cash + BMCash + HMCash + GoldCash + StockCash - loanAmount;\r\n\r\n        this.PlayerGameInfo[_playerIndex].TotalScore = TotalAssets;\r\n        this.PlayerGameInfo[_playerIndex].TotalHBCash = HMCash;\r\n        this.PlayerGameInfo[_playerIndex].TotalBMCash = BMCash;\r\n        this.PlayerGameInfo[_playerIndex].TotalGoldCash = GoldCash;\r\n        this.PlayerGameInfo[_playerIndex].TotalStocksCash = StockCash;\r\n        this.PlayerGameInfo[_playerIndex].TotalLoanBalance = loanAmount;\r\n      }\r\n    }\r\n  },\r\n\r\n  RaiseEventForGameComplete(_data) {\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(6, _data);\r\n  },\r\n\r\n  RaiseEventToSyncGameCompleteData(_data) {\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(16, _data);\r\n  },\r\n\r\n  SyncGameOver(_UID) {\r\n    var infoText = \"\";\r\n    var statusText = \"\";\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      if (!GameCompleted) {\r\n        GameCompleted = true;\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().DisconnectData();\r\n        isGameOver = true;\r\n        var MainSessionData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n        var MyData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor();\r\n        console.log(_UID);\r\n        console.log(MyData.customProperties.PlayerSessionData.PlayerUID);\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData.GameOver = true;\r\n\r\n        if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == true) {\r\n          var _index = -1;\r\n          for (let index = 0; index < MainSessionData.length; index++) {\r\n            if (MainSessionData[index].customProperties.PlayerSessionData.PlayerUID == _UID) {\r\n              _index = index;\r\n              break;\r\n            }\r\n          }\r\n\r\n          statusText = \"Game won by \" + MainSessionData[_index].customProperties.PlayerSessionData.PlayerName;\r\n          infoText =\r\n            \"Current Cash : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.Cash +\r\n            \"\\n\" +\r\n            \"Home Based Businesses Value : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalHBCash +\r\n            \"\\n\" +\r\n            \"Brick And Mortar Businesses Value : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalBMCash +\r\n            \"\\n\" +\r\n            \"Gold Value : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalGoldCash +\r\n            \"\\n\" +\r\n            \"Stocks Value : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalStocksCash +\r\n            \"\\n\" +\r\n            \"Loan Balance : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalLoanBalance +\r\n            \"\\n\" +\r\n            \"Total Cash Earned : $\" +\r\n            MainSessionData[_index].customProperties.PlayerSessionData.TotalScore +\r\n            \"\\n\";\r\n\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowResultScreen(statusText, infoText);\r\n        } else {\r\n          if (MyData.customProperties.PlayerSessionData.PlayerUID == _UID) {\r\n            //you won\r\n            statusText = \"Congrats! you have won the game.\";\r\n            infoText =\r\n              \"Current Cash : $\" +\r\n              MyData.customProperties.PlayerSessionData.Cash +\r\n              \"\\n\" +\r\n              \"Home Based Businesses Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalHBCash +\r\n              \"\\n\" +\r\n              \"Brick And Mortar Businesses Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalBMCash +\r\n              \"\\n\" +\r\n              \"Gold Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalGoldCash +\r\n              \"\\n\" +\r\n              \"Stocks Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalStocksCash +\r\n              \"\\n\" +\r\n              \"Loan Balance : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalLoanBalance +\r\n              \"\\n\" +\r\n              \"Total Cash Earned : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalScore +\r\n              \"\\n\";\r\n\r\n            var _currentCash = parseInt(GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gameCash);\r\n            var _total = _currentCash + parseInt(MyData.customProperties.PlayerSessionData.TotalScore);\r\n            GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gameCash = _total.toString();\r\n\r\n            var _won = parseInt(GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gamesWon);\r\n            _won = _won + 1;\r\n            GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gamesWon = _won.toString();\r\n\r\n            GamePlayReferenceManager.Instance.Get_ServerBackend().UpdateUserData(-1, _won, -1);\r\n\r\n            GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowResultScreen(statusText, infoText);\r\n          } else {\r\n            //you lose\r\n            statusText = \"Unfortunately! you have lost the game.\";\r\n            infoText =\r\n              \"Current Cash : $\" +\r\n              MyData.customProperties.PlayerSessionData.Cash +\r\n              \"\\n\" +\r\n              \"Home Based Businesses Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalHBCash +\r\n              \"\\n\" +\r\n              \"Brick And Mortar Businesses Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalBMCash +\r\n              \"\\n\" +\r\n              \"Gold Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalGoldCash +\r\n              \"\\n\" +\r\n              \"Stocks Value : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalStocksCash +\r\n              \"\\n\" +\r\n              \"Loan Balance : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalLoanBalance +\r\n              \"\\n\" +\r\n              \"Total Cash Earned : $\" +\r\n              MyData.customProperties.PlayerSessionData.TotalScore +\r\n              \"\\n\";\r\n\r\n            GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowResultScreen(statusText, infoText);\r\n          }\r\n        }\r\n      }\r\n    } else if (this.SelectedMode == 1) {\r\n      //with bot\r\n      isGameOver = true;\r\n      var MainSessionData = this.PlayerGameInfo;\r\n      var MyData = this.PlayerGameInfo[0];\r\n      console.log(_UID);\r\n      console.log(MyData.PlayerUID);\r\n      this.PlayerGameInfo[0].GameOver = true;\r\n\r\n      if (MyData.PlayerUID == _UID) {\r\n        //you won\r\n        statusText = \"Congrats! you have won the game.\";\r\n        infoText =\r\n          \"Current Cash : $\" +\r\n          MyData.Cash +\r\n          \"\\n\" +\r\n          \"Home Based Businesses Value : $\" +\r\n          MyData.TotalHBCash +\r\n          \"\\n\" +\r\n          \"Brick And Mortar Businesses Value : $\" +\r\n          MyData.TotalBMCash +\r\n          \"\\n\" +\r\n          \"Gold Value : $\" +\r\n          MyData.TotalGoldCash +\r\n          \"\\n\" +\r\n          \"Stocks Value : $\" +\r\n          MyData.TotalStocksCash +\r\n          \"\\n\" +\r\n          \"Loan Balance : $\" +\r\n          MyData.TotalLoanBalance +\r\n          \"\\n\" +\r\n          \"Total Cash Earned : $\" +\r\n          MyData.TotalScore +\r\n          \"\\n\" +\r\n          \"Other Player Earned Cash : $\" +\r\n          this.PlayerGameInfo[1].TotalScore +\r\n          \"\\n\";\r\n\r\n        var _currentCash = parseInt(GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gameCash);\r\n        var _total = _currentCash + parseInt(MyData.TotalScore);\r\n        GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gameCash = _total.toString();\r\n\r\n        var _won = parseInt(GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gamesWon);\r\n        _won = _won + 1;\r\n        GamePlayReferenceManager.Instance.Get_ServerBackend().StudentData.gamesWon = _won.toString();\r\n        GamePlayReferenceManager.Instance.Get_ServerBackend().UpdateUserData(-1, _won, -1);\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowResultScreen(statusText, infoText);\r\n      } else {\r\n        //you lose\r\n\r\n        statusText = \"Unfortunately! you have lost the game.\";\r\n        infoText =\r\n          \"Current Cash : $\" +\r\n          MyData.Cash +\r\n          \"\\n\" +\r\n          \"Home Based Businesses Value : $\" +\r\n          MyData.TotalHBCash +\r\n          \"\\n\" +\r\n          \"Brick And Mortar Businesses Value : $\" +\r\n          MyData.TotalBMCash +\r\n          \"\\n\" +\r\n          \"Gold Value : $\" +\r\n          MyData.TotalGoldCash +\r\n          \"\\n\" +\r\n          \"Stocks Value : $\" +\r\n          MyData.TotalStocksCash +\r\n          \"\\n\" +\r\n          \"Loan Balance : $\" +\r\n          MyData.TotalLoanBalance +\r\n          \"\\n\" +\r\n          \"Total Cash Earned : $\" +\r\n          MyData.TotalScore +\r\n          \"\\n\" +\r\n          \"Other Player Earned Cash : $\" +\r\n          this.PlayerGameInfo[1].TotalScore +\r\n          \"\\n\";\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowResultScreen(statusText, infoText);\r\n      }\r\n    }\r\n  },\r\n\r\n  SyncGameCompleteData(_data) {\r\n    var _isBot = _data.Bot;\r\n    if (_isBot) {\r\n      this.CallGameComplete(true, false);\r\n\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Game over, calculating total cash...\", 1500, false);\r\n      setTimeout(() => {\r\n        this.ZoomCameraOutOnly();\r\n\r\n        var max = -1;\r\n        var SelectedInd = 0;\r\n        var SessionData = this.PlayerGameInfo;\r\n\r\n        for (let index = 0; index < SessionData.length; index++) {\r\n          var _value = SessionData[index].TotalScore;\r\n\r\n          if (_value > max) {\r\n            SelectedInd = index;\r\n            max = _value;\r\n          }\r\n        }\r\n\r\n        for (let index = 0; index < SessionData.length; index++) {\r\n          if (SessionData[index].IsActive) {\r\n            var _value = SessionData[index].TotalScore;\r\n            console.log(_value);\r\n          }\r\n        }\r\n\r\n        console.trace(\"game won by player id: \" + SessionData[SelectedInd].PlayerUID);\r\n        this.RaiseEventForGameComplete(SessionData[SelectedInd].PlayerUID);\r\n      }, 1500);\r\n    } else {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        this.CallGameComplete(false, false);\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Game over, calculating total cash...\", 1500, false);\r\n        setTimeout(() => {\r\n          console.log(GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray());\r\n          this.ZoomCameraOutOnly();\r\n\r\n          this.SyncDataToPlayerGameInfo(0);\r\n\r\n          var max = -1;\r\n          var SelectedInd = 0;\r\n          var SessionData = this.PlayerGameInfo;\r\n          console.log(SessionData);\r\n\r\n          for (let index = 0; index < SessionData.length; index++) {\r\n            if (SessionData[index].IsActive) {\r\n              var _value = SessionData[index].TotalScore;\r\n\r\n              if (_value > max) {\r\n                SelectedInd = index;\r\n                max = _value;\r\n              }\r\n            }\r\n          }\r\n\r\n          for (let index = 0; index < SessionData.length; index++) {\r\n            if (SessionData[index].IsActive) {\r\n              var _value = SessionData[index].TotalScore;\r\n              console.log(_value);\r\n            }\r\n          }\r\n\r\n          console.trace(\"game won by player id: \" + SessionData[SelectedInd].PlayerUID);\r\n          this.RaiseEventForGameComplete(SessionData[SelectedInd].PlayerUID);\r\n        }, 1500);\r\n      }\r\n    }\r\n  },\r\n\r\n  AllPlayersGameCompleted(_isBot = false) {\r\n    var _data = { Bot: _isBot };\r\n    this.RaiseEventToSyncGameCompleteData(_data);\r\n  },\r\n\r\n  GameOver(_forceGameOver = false) {\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      if (_forceGameOver) {\r\n        this.ZoomCameraOutOnly();\r\n      }\r\n\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        this.SyncDataToPlayerGameInfo(0);\r\n\r\n        var MainSessionData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n        var playercompleted = 0;\r\n\r\n        this.PlayerGameInfo[this.TurnNumber].isGameFinished = true;\r\n\r\n        // for (let index = 0; index < MainSessionData.length; index++) {\r\n        //   if (MainSessionData[index].customProperties.PlayerSessionData.isGameFinished) playercompleted++;\r\n        // }\r\n\r\n        for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n          if (this.PlayerGameInfo[index].IsActive == false || this.PlayerGameInfo[index].isGameFinished) playercompleted++;\r\n        }\r\n\r\n        console.log(\"player completed: \" + playercompleted);\r\n        console.log(\"player gameinfo length: \" + this.PlayerGameInfo.length);\r\n        if (playercompleted >= this.PlayerGameInfo.length || _forceGameOver) {\r\n          //game completed on all system\r\n          isGameOver = true;\r\n          if (_forceGameOver) {\r\n            setTimeout(() => {\r\n              this.AllPlayersGameCompleted(false);\r\n            }, 1000);\r\n          } else if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n            if (!PassedPayDay && !DoublePayDay) {\r\n              this.AllPlayersGameCompleted(false);\r\n            } else {\r\n              IsTweening = false;\r\n              this.completeCardTurn();\r\n            }\r\n          }\r\n        } else {\r\n          if (!isGameOver) {\r\n            if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n              if (!PassedPayDay && !DoublePayDay) {\r\n                IsTweening = false;\r\n                this.completeCardTurn();\r\n              }\r\n            } else {\r\n              IsTweening = false;\r\n              this.completeCardTurn();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      if (this.PlayerGameInfo[this.TurnNumber].IsBot) BotGameOver = true;\r\n      else userGameOver = true;\r\n\r\n      console.log(\"usergameover: \" + userGameOver);\r\n      console.log(\"botgameover: \" + BotGameOver);\r\n      // this.CallGameComplete(true);\r\n      var playercompleted = 0;\r\n      this.PlayerGameInfo[this.TurnNumber].isGameFinished = true;\r\n\r\n      var MainSessionData = this.PlayerGameInfo;\r\n      for (let index = 0; index < MainSessionData.length; index++) {\r\n        if (MainSessionData[index].isGameFinished) playercompleted++;\r\n      }\r\n\r\n      if (playercompleted == this.PlayerGameInfo.length) {\r\n        //gamecompleted on all systems\r\n        BotGameOver = true;\r\n        userGameOver = true;\r\n        isGameOver = true;\r\n\r\n        if (!PassedPayDay && !DoublePayDay) {\r\n          this.AllPlayersGameCompleted(true);\r\n        }\r\n      } else {\r\n        if (!isGameOver) {\r\n          if (!PassedPayDay && !DoublePayDay) {\r\n            IsTweening = false;\r\n            this.completeCardTurn();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  StartDiceRoll: function () {\r\n    if (RollCounter >= GamePlayReferenceManager.Instance.Get_SpaceManager().Data.length) {\r\n      console.log(\"Gameover\");\r\n      this.ZoomCameraOut();\r\n\r\n      setTimeout(() => {\r\n        this.GameOver(false);\r\n      }, 1500);\r\n    } else {\r\n      if (!isGameOver) {\r\n        DiceTemp = DiceTemp + 1;\r\n        var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.y);\r\n        this.TweenPlayer(this.AllPlayerNodes[this.TurnNumber], _toPos);\r\n      }\r\n    }\r\n  },\r\n\r\n  getRandom: function (min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min; // min included and max excluded\r\n  },\r\n\r\n  TweenCamera: function (_pos, isZoom, time) {\r\n    cc.tween(this.CameraNode)\r\n      .to(time, { position: cc.v2(_pos.x, _pos.y) }, { easing: \"quadInOut\" })\r\n      .call(() => {\r\n        if (isZoom) this.ZoomCameraIn();\r\n        else this.ZoomCameraOut();\r\n      })\r\n      .start();\r\n  },\r\n\r\n  ZoomCameraIn() {\r\n    setTimeout(() => {\r\n      if (this.Camera.zoomRatio < 2) {\r\n        this.Camera.zoomRatio = this.Camera.zoomRatio + 0.03;\r\n        this.ZoomCameraIn();\r\n      } else {\r\n        this.Camera.zoomRatio = 2;\r\n        this.isCameraZooming = true;\r\n        this.StartDiceRoll();\r\n      }\r\n    }, 10);\r\n  },\r\n\r\n  CheckPayDayConditions(_isBot = false) {\r\n    if (RollCounter < GamePlayReferenceManager.Instance.Get_SpaceManager().Data.length) {\r\n      if (parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 6) {\r\n        PassedPayDay = true;\r\n        PassedPayDayCounter = PassedPayDayCounter + 1;\r\n      }\r\n\r\n      if (parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 7) {\r\n        DoublePayDay = true;\r\n        DoublePayDayCounter++;\r\n        PassedPayDayCounter++;\r\n      }\r\n    }\r\n\r\n    _nextTurnDoublePay = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.NextTurnDoublePay;\r\n    _nextTurnhalfPay = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.NextTurnHalfPayDay;\r\n\r\n    if (PassedPayDay && !DoublePayDay && !_nextTurnDoublePay) {\r\n      //this.ToggleDoublePayNextTurn(false);\r\n      //this.TogglePayDay(false,false);\r\n      this.ProcessPayDay_TurnDecision(false, _isBot);\r\n    } else if (DoublePayDay || (PassedPayDay && _nextTurnDoublePay)) {\r\n      //this.ToggleDoublePayNextTurn(false);\r\n      //this.TogglePayDay(false,false);\r\n      this.ProcessPayDay_TurnDecision(true, _isBot);\r\n    } else {\r\n      this.callUponCard();\r\n    }\r\n  },\r\n\r\n  ZoomCameraOutOnly() {\r\n    setTimeout(() => {\r\n      if (this.Camera.zoomRatio >= 1) {\r\n        this.isCameraZooming = false;\r\n        this.Camera.zoomRatio = this.Camera.zoomRatio - 0.03;\r\n        this.ZoomCameraOutOnly();\r\n      } else {\r\n        this.CameraNode.position = cc.Vec2(0, 0);\r\n        this.Camera.zoomRatio = 1;\r\n      }\r\n    }, 10);\r\n  },\r\n\r\n  ZoomCameraOut() {\r\n    setTimeout(() => {\r\n      if (this.Camera.zoomRatio >= 1) {\r\n        this.isCameraZooming = false;\r\n        this.Camera.zoomRatio = this.Camera.zoomRatio - 0.03;\r\n        this.ZoomCameraOut();\r\n      } else {\r\n        this.CameraNode.position = cc.Vec2(0, 0);\r\n        this.Camera.zoomRatio = 1;\r\n        // IsTweening = false;\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().PrintDiceValue_TurnDecision(0);\r\n\r\n        if (this.SelectedMode == 1) {\r\n          if (this.PlayerGameInfo[this.TurnNumber].IsBot && !BotGameOver) {\r\n            this.CheckPayDayConditions(this.PlayerGameInfo[this.TurnNumber].IsBot);\r\n          } else {\r\n            if (!this.PlayerGameInfo[this.TurnNumber].IsBot && !userGameOver) {\r\n              this.CheckPayDayConditions(this.PlayerGameInfo[this.TurnNumber].IsBot);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.SelectedMode == 2) {\r\n          //real player\r\n          if (PlayerLeft) {\r\n            // IsTweening = false;\r\n            PlayerLeft = false;\r\n          }\r\n\r\n          if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) this.CheckPayDayConditions();\r\n          else this.callUponCard();\r\n        }\r\n      }\r\n    }, 10);\r\n  },\r\n\r\n  TweenPlayer: function (Node, ToPos) {\r\n    var speed = 0.4;\r\n    if (_isTest) speed = 0.04;\r\n\r\n    cc.tween(Node) //0.4\r\n      .to(speed, { position: cc.v2(ToPos.x, ToPos.y) }, { easing: \"quadInOut\" })\r\n      .call(() => {\r\n        if (DiceTemp < DiceRoll) {\r\n          // console.log(DiceTemp + \" \" + RollCounter);\r\n\r\n          if (this.SelectedMode == 1) {\r\n            //for bot\r\n            if (this.PlayerGameInfo[this.TurnNumber].IsBot) {\r\n              if (!BotGameOver) {\r\n                if (\r\n                  parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 6 ||\r\n                  parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 7\r\n                ) {\r\n                  PassedPayDay = true;\r\n                  PassedPayDayCounter++;\r\n                }\r\n              } else {\r\n                console.log(\"bot game is over\");\r\n              }\r\n            } else {\r\n              if (!userGameOver) {\r\n                if (\r\n                  parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 6 ||\r\n                  parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 7\r\n                ) {\r\n                  PassedPayDay = true;\r\n                  PassedPayDayCounter++;\r\n                }\r\n\r\n                /// console.error(PassedPayDayCounter);\r\n              } else {\r\n                console.log(\"user game is over skipping\");\r\n              }\r\n            }\r\n\r\n            // console.log(PassedPayDay);\r\n          }\r\n\r\n          if (this.SelectedMode == 2) {\r\n            if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n              if (!this.PlayerGameInfo[this.TurnNumber].isGameFinished) {\r\n                if (parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 6) {\r\n                  PassedPayDay = true;\r\n                  PassedPayDayCounter++;\r\n                }\r\n\r\n                if (parseInt(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.getComponent(\"SpaceHandler\").SpaceData.SpacesType) == 7) {\r\n                  DoublePayDay = true;\r\n                  DoublePayDayCounter++;\r\n                  PassedPayDayCounter++;\r\n                }\r\n              } else {\r\n                console.log(\"Game finished for: \" + this.PlayerGameInfo[this.TurnNumber].PlayerName);\r\n              }\r\n            }\r\n          }\r\n\r\n          if (RollCounter < GamePlayReferenceManager.Instance.Get_SpaceManager().Data.length) {\r\n            if (RollCounter == 13) RollCounter = RollCounter + 22;\r\n            else RollCounter = RollCounter + 1;\r\n          } else {\r\n            RollCounter = RollCounter + 1;\r\n            DiceTemp = DiceRoll;\r\n          }\r\n\r\n          //DiceTemp=DiceTemp+1;\r\n          //  console.log(DiceTemp + \" \" + RollCounter);\r\n\r\n          this.StartDiceRoll();\r\n          //this.PlayerGameInfo[this.TurnNumber].PlayerRollCounter=RollCounter;\r\n        } else {\r\n          var _newpos = cc.Vec2(0, 0);\r\n          this.TweenCamera(_newpos, false, 0.6); //zoomout\r\n        }\r\n      })\r\n      .start();\r\n  },\r\n\r\n  //rules implmentation during turn (turn decisions)\r\n\r\n  TogglePayDay(_st1, _St2) {\r\n    PassedPayDay = _st1;\r\n    DoublePayDay = _St2;\r\n\r\n    if (!_st1) {\r\n      PassedPayDayCounter = 0;\r\n    }\r\n\r\n    if (!_St2) {\r\n      DoublePayDayCounter = 0;\r\n    }\r\n  },\r\n\r\n  IncreaseDoublePayDay() {\r\n    DoublePayDayCounter++;\r\n  },\r\n\r\n  ExpandBusiness_TurnDecision(amount, _index, _locationName, _isCardFunctionality = false, _GivenCash = 0, _StartAnyBusinessWithoutCash = false) {\r\n    if (this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[_index].LocationsName.length < 3) {\r\n      if (!_isCardFunctionality) {\r\n        if (this.PlayerGameInfo[this.TurnNumber].Cash >= amount) {\r\n          this.PlayerGameInfo[this.TurnNumber].Cash = this.PlayerGameInfo[this.TurnNumber].Cash - amount;\r\n          this.PlayerGameInfo[this.TurnNumber].TotalLocationsAmount = this.PlayerGameInfo[this.TurnNumber].TotalLocationsAmount + 1;\r\n          this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[_index].LocationsName.push(_locationName);\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have successfully expanded your business.\", 1000);\r\n          setTimeout(() => {\r\n            GamePlayReferenceManager.Instance.Get_GameplayUIManager().OnExpandButtonExitClicked_TurnDecision();\r\n          }, 1200);\r\n        } else {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash to expand this business, cash needed $ \" + amount);\r\n        }\r\n      } else {\r\n        if (_GivenCash >= amount) {\r\n          _GivenCash = _GivenCash - amount;\r\n          this.PlayerGameInfo[this.TurnNumber].TotalLocationsAmount = this.PlayerGameInfo[this.TurnNumber].TotalLocationsAmount + 1;\r\n          this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[_index].LocationsName.push(_locationName);\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have successfully expanded your business.\", 1000);\r\n          setTimeout(() => {\r\n            GamePlayReferenceManager.Instance.Get_GameplayUIManager().OnExpandButtonExitClicked_TurnDecision();\r\n          }, 1200);\r\n        } else {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash to expand this business, cash needed $ \" + amount + \", Cash Given $\" + _GivenCash);\r\n        }\r\n      }\r\n    } else {\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You cannot own more than three brick and mortar business locations\");\r\n    }\r\n  },\r\n\r\n  GenerateExpandBusiness_Prefabs_TurnDecision(_isCardFunctionality = false, _GivenCash = 0, _StartAnyBusinessWithoutCash = false) {\r\n    BusinessLocationNodes = [];\r\n\r\n    console.log(this.PlayerGameInfo[this.TurnNumber].NoOfBusiness);\r\n    for (let i = 0; i < this.PlayerGameInfo[this.TurnNumber].NoOfBusiness.length; i++) {\r\n      if (parseInt(this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[i].BusinessType) == 2) {\r\n        //this means there is brick and mortar in list\r\n        var node = cc.instantiate(GamePlayReferenceManager.Instance.Get_GameplayUIManager().TurnDecisionSetupUI.ExpandBusinessPrefab);\r\n        node.parent = GamePlayReferenceManager.Instance.Get_GameplayUIManager().TurnDecisionSetupUI.ExpandBusinessScrollContent;\r\n        node.getComponent(\"ExpandBusinessHandler\").SetBusinessIndex(i);\r\n        node.getComponent(\"ExpandBusinessHandler\").SetName(this.PlayerGameInfo[this.TurnNumber].NoOfBusiness[i].BusinessName);\r\n        node.getComponent(\"ExpandBusinessHandler\").SetCardFunctionality(_isCardFunctionality);\r\n        node.getComponent(\"ExpandBusinessHandler\").SetGivenCash(_GivenCash);\r\n        node.getComponent(\"ExpandBusinessHandler\").SetStartAnyBusinessWithoutCash(_StartAnyBusinessWithoutCash);\r\n        node.getComponent(\"ExpandBusinessHandler\").ResetEditBox();\r\n        BusinessLocationNodes.push(node);\r\n      }\r\n    }\r\n    console.log(BusinessLocationNodes);\r\n    return BusinessLocationNodes.length;\r\n  },\r\n\r\n  DestroyGeneratedNodes() {\r\n    for (let index = 0; index < BusinessLocationNodes.length; index++) {\r\n      BusinessLocationNodes[index].destroy();\r\n    }\r\n\r\n    BusinessLocationNodes = [];\r\n  },\r\n\r\n  UpdateStocks_TurnDecision(_name, _ShareAmount, _isAdding) {\r\n    if (_isAdding) {\r\n      var _stock = new StockInfo();\r\n      _stock.BusinessName = _name;\r\n      _stock.ShareAmount = _ShareAmount;\r\n\r\n      this.PlayerGameInfo[this.TurnNumber].NoOfStocks.push(_stock);\r\n    }\r\n  },\r\n\r\n  ProcessPayDay_TurnDecision(_isDoublePayDay = false, _isBot = false, _forSelectedBusiness = false, _SelectedBusinessIndex = 0, HBAmount = 0, BMAmount = 0, BMLocations = 0) {\r\n    if (_forSelectedBusiness) {\r\n      var _title = \"PayDay\";\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().AssignData_PayDay(_title, false, false, false, _isBot, _forSelectedBusiness, _SelectedBusinessIndex, HBAmount, BMAmount, BMLocations, 1, 0, _nextTurnhalfPay);\r\n    } else {\r\n      if (DoublePayDay && PassedPayDay && _nextTurnDoublePay) {\r\n        DoublePayDayCounter = 2;\r\n      }\r\n\r\n      _skipNextPayday = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextPayday;\r\n      _skipHMNextPayday = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipHMNextPayday;\r\n      _skipBMNextPayday = this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipBMNextPayday;\r\n\r\n      if (_skipNextPayday) {\r\n        //if previously skip payday was stored by any card\r\n        this.ToggleSkipPayDay_Whole(false);\r\n\r\n        if (!_isBot) {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Skipping PayDay.\", 1600);\r\n          setTimeout(() => {\r\n            this.callUponCard();\r\n          }, 1650);\r\n        } else {\r\n          console.log(\"Skipping PayDay.\");\r\n          setTimeout(() => {\r\n            this.callUponCard();\r\n          }, 800);\r\n        }\r\n      } else {\r\n        var _title = \"\";\r\n\r\n        if (_isDoublePayDay) _title = \"DoublePayDay\";\r\n        else _title = \"PayDay\";\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().AssignData_PayDay(_title, _isDoublePayDay, _skipHMNextPayday, _skipBMNextPayday, _isBot, false, 0, 0, 0, 0, PassedPayDayCounter, DoublePayDayCounter, _nextTurnhalfPay);\r\n      }\r\n    }\r\n  },\r\n\r\n  Bankrupt_TurnDecision() {\r\n    this.PlayerGameInfo[this.TurnNumber].IsBankrupt = true;\r\n    this.PlayerGameInfo[this.TurnNumber].BankruptAmount += 1;\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().StartNewBusiness_BusinessSetup(true, false, this.SelectedMode, this.PlayerGameInfo[this.TurnNumber].IsBankrupt, this.PlayerGameInfo[this.TurnNumber].BankruptAmount);\r\n  },\r\n\r\n  SendProfit_Partner_TurnDecision(_amount, _uID) {\r\n    var _data = { Data: { Cash: _amount, ID: _uID } };\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(13, _data);\r\n  },\r\n\r\n  ReceiveProfit_Partner_TurnDecision(_data) {\r\n    if (GamePlayReferenceManager.Instance.Get_MultiplayerController().CheckSpectate() == false) {\r\n      var _amount = _data.Data.Cash;\r\n      var _iD = _data.Data.ID;\r\n\r\n      var _myIndex = this.GetMyIndex();\r\n\r\n      if (this.PlayerGameInfo[_myIndex].PlayerUID == _iD) {\r\n        if (this.PlayerGameInfo[_myIndex].isGameFinished == true) {\r\n          this.PlayerGameInfo[_myIndex].TotalScore += _amount;\r\n        }\r\n\r\n        this.PlayerGameInfo[_myIndex].Cash += _amount;\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have received profit of $\" + _amount + \" from other player.\", 2800);\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n      }\r\n    }\r\n  },\r\n\r\n  //#endregion\r\n\r\n  //#region Cards Rules\r\n  ToggleDoublePayNextTurn(_state) {\r\n    _nextTurnDoublePay = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.NextTurnDoublePay = _nextTurnDoublePay;\r\n  },\r\n\r\n  ToggleHalfPayNextTurn(_state) {\r\n    _nextTurnhalfPay = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.NextTurnHalfPayDay = _nextTurnhalfPay;\r\n  },\r\n\r\n  ToggleSkipNextTurn(_state) {\r\n    _skipNextTurn = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextTurn = _skipNextTurn;\r\n  },\r\n\r\n  ToggleSkipPayDay_Whole(_state) {\r\n    _skipNextPayday = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipNextPayday = _skipNextPayday;\r\n  },\r\n\r\n  ToggleSkipPayDay_HomeBased(_state) {\r\n    _skipHMNextPayday = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipHMNextPayday = _skipHMNextPayday;\r\n  },\r\n\r\n  ToggleSkipPayDay_BrickAndMortar(_state) {\r\n    _skipBMNextPayday = _state;\r\n    this.PlayerGameInfo[this.TurnNumber].CardFunctionality.SkipBMNextPayday = _skipBMNextPayday;\r\n  },\r\n\r\n  ToggleTurnProgress(_state) {\r\n    TurnInProgress = _state;\r\n  },\r\n\r\n  ReturnTurnProgress() {\r\n    return TurnInProgress;\r\n  },\r\n\r\n  LoseAllMarketingMoney() {\r\n    var _loseAmount = -1;\r\n    if (this.PlayerGameInfo[this.TurnNumber].MarketingAmount > 0) {\r\n      _loseAmount = this.PlayerGameInfo[this.TurnNumber].MarketingAmount;\r\n      this.PlayerGameInfo[this.TurnNumber].MarketingAmount = 0;\r\n    } else {\r\n      _loseAmount = 0;\r\n    }\r\n\r\n    return _loseAmount;\r\n  },\r\n\r\n  MultiplyMarketingMoney(_multiplier) {\r\n    var _amountIncreased = -1;\r\n    if (this.PlayerGameInfo[this.TurnNumber].MarketingAmount > 0) {\r\n      _amountIncreased = this.PlayerGameInfo[this.TurnNumber].MarketingAmount *= _multiplier;\r\n    } else {\r\n      _amountIncreased = 0;\r\n    }\r\n\r\n    return _amountIncreased;\r\n  },\r\n\r\n  GetMarketingMoney(_profit) {\r\n    var _amount = -1;\r\n    if (this.PlayerGameInfo[this.TurnNumber].MarketingAmount > 0) {\r\n      _profit = _profit / 100;\r\n      _amount = this.PlayerGameInfo[this.TurnNumber].MarketingAmount *= _profit;\r\n      this.PlayerGameInfo[this.TurnNumber].MarketingAmount = 0;\r\n      this.PlayerGameInfo[this.TurnNumber].Cash += _amount;\r\n    } else {\r\n      _amount = 0;\r\n    }\r\n\r\n    return _amount;\r\n  },\r\n\r\n  GetVocabularyQuestionsIndex() {\r\n    var _val = -1;\r\n    if (VocabularyQuestions.length > 0) {\r\n      if (VocabularyQuestionsCounter < VocabularyQuestions.length) {\r\n        _val = VocabularyQuestions[VocabularyQuestionsCounter];\r\n        VocabularyQuestionsCounter++;\r\n      } else {\r\n        this.PopulateOneQuestionArray_Vocabulary();\r\n      }\r\n    } else {\r\n      this.PopulateOneQuestionArray_Vocabulary();\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  GetEstablishmentQuestionsIndex() {\r\n    var _val = -1;\r\n    if (EstablishmentQuestions.length > 0) {\r\n      if (EstablishmentQuestionsCounter < EstablishmentQuestions.length) {\r\n        _val = EstablishmentQuestions[EstablishmentQuestionsCounter];\r\n        EstablishmentQuestionsCounter++;\r\n      } else {\r\n        this.PopulateOneQuestionArray_Establishment();\r\n      }\r\n    } else {\r\n      this.PopulateOneQuestionArray_Establishment();\r\n    }\r\n    return _val;\r\n  },\r\n\r\n  PopulateOneQuestionArray_Vocabulary(_data = null) {\r\n    if (_data == null) {\r\n      VocabularyQuestions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\r\n\r\n      VocabularyQuestions.sort(() => 0.5 - Math.random());\r\n\r\n      console.log(VocabularyQuestions);\r\n      VocabularyQuestionsCounter = 0;\r\n\r\n      var _tempData = { VocArray: VocabularyQuestions, EstArray: null };\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(18, _tempData);\r\n    } else {\r\n      if (_data.VocArray != null) {\r\n        VocabularyQuestions = _data.VocArray;\r\n        console.log(VocabularyQuestions);\r\n        VocabularyQuestionsCounter = 0;\r\n      }\r\n    }\r\n  },\r\n\r\n  PopulateOneQuestionArray_Establishment(_data = null) {\r\n    if (_data == null) {\r\n      EstablishmentQuestions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\r\n\r\n      EstablishmentQuestions.sort(() => 0.5 - Math.random());\r\n\r\n      console.log(EstablishmentQuestions);\r\n      EstablishmentQuestionsCounter = 0;\r\n\r\n      var _tempData = { VocArray: null, EstArray: EstablishmentQuestions };\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(18, _tempData);\r\n    } else {\r\n      if (_data.EstArray != null) {\r\n        EstablishmentQuestions = _data.EstArray;\r\n        console.log(EstablishmentQuestions);\r\n        EstablishmentQuestionsCounter = 0;\r\n      }\r\n    }\r\n  },\r\n\r\n  QuestionPopUp_OtherUser_OneQuestion(_data) {\r\n    var _questionRef = GamePlayReferenceManager.Instance.Get_QuestionsData();\r\n    var _userID = _data.UserID;\r\n    var _questionIndex = _data.Question;\r\n    var _playerIndex = _data.UserIndex;\r\n    var _isVoc = _data.IsVoc;\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n\r\n    if (_isVoc) {\r\n      VocabularyQuestionsCounter++;\r\n    } else {\r\n      EstablishmentQuestionsCounter++;\r\n    }\r\n\r\n    if (_userID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData.PlayerUID) {\r\n      console.log(\"ID matched\");\r\n\r\n      _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(true);\r\n\r\n      var _Qdata;\r\n      if (_isVoc) {\r\n        console.log(\"voc\");\r\n        _Qdata = _questionRef.VocabularyQuestions[_questionIndex];\r\n      } else {\r\n        console.log(\"est\");\r\n        _Qdata = _questionRef.EstablishmentQuestions[_questionIndex];\r\n      }\r\n\r\n      CorrectAnswer = _Qdata.CorrectOption;\r\n      var _message = \"Choose the correct answer.\" + \"\\n\" + \"*wrong answer will cost you a fine of $5000.\" + \"\\n\" + \"\\n\" + _Qdata.Question + \"\\n\" + \"A. \" + _Qdata.Option1 + \"\\n\" + \"B. \" + _Qdata.Option2 + \"\\n\" + \"C. \" + _Qdata.Option3 + \"\\n\" + \"D. \" + _Qdata.Option4;\r\n\r\n      // var _questionAsked = OneQuestions[_questionIndex - 1];\r\n      _gameplayUIManager.SetUpDecisionScreen_OneQuestionSetupUI(_message);\r\n    }\r\n  },\r\n\r\n  OneQuestionScreen_Space_OneQuestion(_isTurnOver = false) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _myData;\r\n    var _roomData;\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      _roomData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n      _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      _myData = this.PlayerGameInfo[0];\r\n      _roomData = this.PlayerGameInfo;\r\n    }\r\n    _gameplayUIManager.ToggleSpaceScreen_OneQuestionSetupUI(true);\r\n    _gameplayUIManager.ResetSpaceScreen_OneQuestionSetupUI();\r\n    _gameplayUIManager.SetUpSpaceScreen_OneQuestionSetupUI(_myData, _roomData, _isTurnOver, this.SelectedMode);\r\n  },\r\n\r\n  OneQuestionDecision_SelectOption_OneQuestion(event = null) {\r\n    var _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _selection = parseInt(event.currentTarget.name.split(\"_\")[1]);\r\n\r\n    console.log(\"option selected: \" + _selection);\r\n    console.log(\"CorrectAnswer: \" + CorrectAnswer);\r\n    if (_selection == CorrectAnswer) {\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Your answer was correct!.\", 1200);\r\n      _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n      this.RaiseEventDecision_OneQuestion(false, true, -1, _myData.PlayerUID);\r\n    } else {\r\n      if (_myData.Cash >= 5000) {\r\n        for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n          if (_myData.PlayerUID == this.PlayerGameInfo[index].PlayerUID) {\r\n            this.PlayerGameInfo[index].Cash -= 5000;\r\n            GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[index]);\r\n            break;\r\n          }\r\n        }\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have answered wrong, fine amount was payed to the player.\", 1200);\r\n        _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n        this.RaiseEventDecision_OneQuestion(true, false, -1, _myData.PlayerUID);\r\n      } else {\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash, Skipping question\");\r\n        _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n        this.RaiseEventDecision_OneQuestion(false, false, 0, _myData.PlayerUID);\r\n        //GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleScreen_InsufficientBalance(true);\r\n      }\r\n    }\r\n  },\r\n\r\n  // OneQuestionDecision_PayAmount_OneQuestion() {\r\n  //   var _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n  //   var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n\r\n  //   if (_myData.Cash >= 5000) {\r\n  //     for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n  //       if (_myData.PlayerUID == this.PlayerGameInfo[index].PlayerUID) {\r\n  //         this.PlayerGameInfo[index].Cash -= 5000;\r\n  //         GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[index]);\r\n  //         break;\r\n  //       }\r\n  //     }\r\n\r\n  //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have successfully paid cash amount to player.\", 1200);\r\n  //     _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n  //     this.RaiseEventDecision_OneQuestion(true, false, -1, _myData.PlayerUID);\r\n  //   } else {\r\n  //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash.\");\r\n  //   }\r\n  // },\r\n\r\n  // OneQuestionDecision_AnswerQuestion_OneQuestion() {\r\n  //   var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n  //   var _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n  //   GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have successfully answered the question.\", 1200);\r\n  //   _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n  //   this.RaiseEventDecision_OneQuestion(false, true, OneQuestionIndex, _myData.PlayerUID);\r\n  // },\r\n\r\n  SelectPlayerProfit_Space_CardFunctionality(_isTurnOver = false) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _myData;\r\n    var _roomData;\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      _roomData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n      _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      _myData = this.PlayerGameInfo[0];\r\n      _roomData = this.PlayerGameInfo;\r\n    }\r\n    _gameplayUIManager.ToggleScreen_SelectPlayerForProfit(true);\r\n    _gameplayUIManager.ResetSpaceScreen_SelectPlayerForProfit();\r\n    _gameplayUIManager.SetUpSpaceScreen_SelectPlayerForProfit(_myData, _roomData, _isTurnOver, this.SelectedMode);\r\n  },\r\n\r\n  SelectPlayerTakeOver_Space_CardFunctionality(_isTurnOver = false) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _myData;\r\n    var _roomData;\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      _roomData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n      _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      _myData = this.PlayerGameInfo[0];\r\n      _roomData = this.PlayerGameInfo;\r\n    }\r\n    _gameplayUIManager.ToggleScreen_SelectPlayerTakeOver(true);\r\n    _gameplayUIManager.ResetSpaceScreen_SelectPlayerTakeOver();\r\n    _gameplayUIManager.SetUpSpaceScreen_SelectPlayerTakeOver(_myData, _roomData, _isTurnOver, this.SelectedMode);\r\n  },\r\n\r\n  SelectPlayerBuyHalfBusiness_Space_CardFunctionality(_isTurnOver = false) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _myData;\r\n    var _roomData;\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      _roomData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n      _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      _myData = this.PlayerGameInfo[0];\r\n      _roomData = this.PlayerGameInfo;\r\n    }\r\n\r\n    _gameplayUIManager.ToggleScreen_SelectPlayerTakeOver(true);\r\n    _gameplayUIManager.ResetSpaceScreen_SelectPlayerTakeOver();\r\n    _gameplayUIManager.SetUpSpaceScreen_SelectPlayerTakeOver(_myData, _roomData, _isTurnOver, this.SelectedMode, true);\r\n  },\r\n\r\n  SelectPlayerDamagingInformation_Space_CardFunctionality(_isTurnOver = false) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    var _myData;\r\n    var _roomData;\r\n    if (this.SelectedMode == 2) {\r\n      //for real players\r\n      _roomData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n      _myData = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    } else if (this.SelectedMode == 1) {\r\n      //for bot\r\n      _myData = this.PlayerGameInfo[0];\r\n      _roomData = this.PlayerGameInfo;\r\n    }\r\n    _gameplayUIManager.ToggleScreen_SelectPlayerDamaging(true);\r\n    _gameplayUIManager.ResetSpaceScreen_SelectPlayerDamaging();\r\n    _gameplayUIManager.SetUpSpaceScreen_SelectPlayerDamaging(_myData, _roomData, _isTurnOver, this.SelectedMode);\r\n  },\r\n\r\n  ReceiveEvent_SelectPlayerForProfit_Space_CardFunctionality(_data) {\r\n    var _ownID = _data.UserID.toString();\r\n    var _playerIndex = parseInt(_data.UserIndex);\r\n    var _playerName = _data.UserName;\r\n    var _playerID = _data.OwnPlayerID.toString();\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    if (_ownID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n      console.log(\"received event: \" + _playerName);\r\n\r\n      for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n        if (this.PlayerGameInfo[index].PlayerUID == _ownID) {\r\n          this.PlayerGameInfo[index].CanGiveProfitOnPayDay = true;\r\n          this.PlayerGameInfo[index].UserIDForProfitPayDay = _playerID;\r\n\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[index]);\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoom().setCustomProperty(\"PlayerGameInfo\", this.PlayerGameInfo, true);\r\n          _gameplayUIManager.ShowToast(\"Player \" + _playerName + \" will receive all your next pay day profits\", 3200);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  RaiseEventDecision_OneQuestion(_hasDonePayment, _hasAnsweredQuestion, _questionIndex, _UserID) {\r\n    var _data = { PaymentDone: _hasDonePayment, QuestionAnswered: _hasAnsweredQuestion, QuestionIndex: _questionIndex, ID: _UserID };\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(8, _data);\r\n  },\r\n\r\n  DeductCash_CardFunctionality(_amount) {\r\n    if (GamePlayReferenceManager.Instance.Get_MultiplayerController().CheckSpectate() == false) {\r\n      var _myIndex = this.GetMyIndex();\r\n\r\n      if (this.PlayerGameInfo[_myIndex].Cash >= _amount) {\r\n        this.PlayerGameInfo[_myIndex].Cash -= _amount;\r\n      } else if (this.PlayerGameInfo[_myIndex].Cash < _amount) {\r\n        this.PlayerGameInfo[_myIndex].Cash = 0;\r\n      }\r\n\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n    }\r\n  },\r\n\r\n  AddCash_CardFunctionality(_data) {\r\n    var _amount = _data.amount;\r\n    var _ID = _data.ID;\r\n    var _msg = _data.msg;\r\n\r\n    var mode = GamePlayReferenceManager.Instance.Get_MultiplayerController().GetSelectedMode();\r\n    if (mode == 2) {\r\n      var _actor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().CheckSpectate() == false) {\r\n        var _myIndex = this.GetMyIndex();\r\n        if (_actor.PlayerUID == _ID) {\r\n          this.PlayerGameInfo[_myIndex].Cash += _amount;\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(_msg);\r\n        }\r\n      }\r\n    } else if (mode == 1) {\r\n      for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n        if (this.PlayerGameInfo[index].PlayerUID == _ID && index != this.TurnNumber) {\r\n          this.PlayerGameInfo[index].Cash += _amount;\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(_msg);\r\n        }\r\n      }\r\n    }\r\n    this.UpdateUIData();\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().UpdateCash_TurnDecision();\r\n  },\r\n\r\n  ReceiveEventDecision_OneQuestion(_data) {\r\n    var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n    if (this.PlayerGameInfo[this.TurnNumber].PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n      var _hasDonePayment = _data.PaymentDone;\r\n      var _hasAnsweredQuestion = _data.QuestionAnswered;\r\n      var _questionIndex = _data.QuestionIndex;\r\n      var _uID = _data.ID;\r\n\r\n      _gameplayUIManager.ToggleDecisionScreen_OneQuestionSetupUI(false);\r\n      if (_questionIndex == 0) {\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"player does not have enough cash, so questions were skipped.\", 2100);\r\n        _gameplayUIManager.ToggleSpaceScreen_OneQuestionSetupUI(false);\r\n        this.completeCardTurn();\r\n      } else {\r\n        if (_hasDonePayment) {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleWaitingScreen_OneQuestionSetupUI(false);\r\n          this.PlayerGameInfo[this.TurnNumber].Cash += 5000;\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"player has given wrong answer, cash $5000 has been added.\", 2100);\r\n          _gameplayUIManager.ToggleSpaceScreen_OneQuestionSetupUI(false);\r\n          this.completeCardTurn();\r\n        } else if (_hasAnsweredQuestion) {\r\n          var _selectedPlayerIndex = 0;\r\n          var _actorsData = GamePlayReferenceManager.Instance.Get_MultiplayerController().getPhotonRef().myRoomActorsArray();\r\n\r\n          for (let index = 0; index < _actorsData.length; index++) {\r\n            if (_uID == _actorsData[index].customProperties.PlayerSessionData.PlayerUID) {\r\n              _selectedPlayerIndex = index;\r\n              break;\r\n            }\r\n          }\r\n\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"player has given correct answer, no cash was received.\", 2100);\r\n\r\n          // if (_questionIndex == 1) {\r\n          //   //have you skipped loan previous payday?\r\n          //   if (_actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.SkippedLoanPayment) {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered to have skipped loan payement in previous payday\", 2100);\r\n          //   } else {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered not to have skipped loan payement in previous payday\", 2100);\r\n          //   }\r\n          // } else if (_questionIndex == 2) {\r\n          //   //Have you taken any loan?\r\n          //   var _loanTaken = false;\r\n          //   for (let index = 0; index < _actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.NoOfBusiness.length; index++) {\r\n          //     if (_actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.NoOfBusiness[index].LoanTaken) {\r\n          //       _loanTaken = true;\r\n          //       break;\r\n          //     }\r\n          //   }\r\n\r\n          //   if (_loanTaken) {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered to have taken some loan\", 2100);\r\n          //   } else {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered not to have taken any loan\", 2100);\r\n          //   }\r\n          // } else if (_questionIndex == 3) {\r\n          //   //Are you bankrupted? if more than once, tell me the amount?\r\n          //   if (_actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.IsBankrupt) {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered to have been bankrupted \" + _actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.BankruptAmount + \" time/es.\", 2100);\r\n          //   } else {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered not to have been bankrupted\", 2100);\r\n          //   }\r\n          // } else if (_questionIndex == 4) {\r\n          //   //Is your turn going to be skipped next time?\r\n          //   if (_actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.CardFunctionality.SkipNextTurn) {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered, next turn will be skipped.\", 2100);\r\n          //   } else {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered, next turn will not be skipped.\", 2100);\r\n          //   }\r\n          // } else if (_questionIndex == 5) {\r\n          //   //Is it going to be double pay day your next payday?\r\n          //   if (_actorsData[_selectedPlayerIndex].customProperties.PlayerSessionData.CardFunctionality.NextTurnDoublePay) {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered, next payday will be double payday\", 2100);\r\n          //   } else {\r\n          //     GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Player has answered, next payday will not be double payday\", 2100);\r\n          //   }\r\n          // }\r\n\r\n          setTimeout(() => {\r\n            _gameplayUIManager.ToggleSpaceScreen_OneQuestionSetupUI(false);\r\n            this.completeCardTurn();\r\n          }, 200);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  ReceiveGoBackSpacesData_spaceFunctionality(_data) {\r\n    if (IsTweening == true) {\r\n      setTimeout(() => {\r\n        this.ReceiveGoBackSpacesData_spaceFunctionality(_data);\r\n      }, 800);\r\n    } else {\r\n      var _spaces = _data.Data.backspaces;\r\n      var _counter = _data.Data.Counter;\r\n\r\n      var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[_counter + Backspaces].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.y);\r\n      this.TweenPlayer_GoBackSpaces(this.AllPlayerNodes[this.TurnNumber], _toPos, 0.1);\r\n\r\n      RollCounter = _counter;\r\n      var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.y);\r\n      this.TweenPlayer_GoBackSpaces(this.AllPlayerNodes[this.TurnNumber], _toPos);\r\n    }\r\n  },\r\n\r\n  TweenPlayer_GoBackSpaces: function (Node, ToPos, speed = 0.6) {\r\n    cc.tween(Node)\r\n      .to(speed, { position: cc.v2(ToPos.x, ToPos.y) }, { easing: \"quadInOut\" })\r\n      .call(() => {})\r\n      .start();\r\n  },\r\n\r\n  GoBackSpaces_spaceFunctionality() {\r\n    RollCounter -= Backspaces;\r\n\r\n    if (this.SelectedMode == 2) {\r\n      var _data = { Data: { backspaces: Backspaces, Counter: RollCounter } };\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(10, _data);\r\n    }\r\n\r\n    var _toPos = cc.Vec2(GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.x, GamePlayReferenceManager.Instance.Get_SpaceManager().Data[RollCounter].ReferenceLocation.position.y);\r\n    this.TweenPlayer_GoBackSpaces(this.AllPlayerNodes[this.TurnNumber], _toPos);\r\n    this.completeCardTurn();\r\n  },\r\n\r\n  ReceiveEvent_TakeOverBusiness_CardFunctionality(_data) {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        var _id = _data.ID;\r\n        var _playerData = _data.Player;\r\n        var _business = _data.Business;\r\n        var _businessIndex = _data.BusinessIndex;\r\n        var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n\r\n        var _myIndex = -1;\r\n        console.log(_myActor.PlayerUID);\r\n        console.log(_id);\r\n\r\n        if (_myActor.PlayerUID.toString() == _id.toString()) {\r\n          for (let index = 0; index < this.PlayerGameInfo.length; index++) {\r\n            if (this.PlayerGameInfo[index].PlayerUID == _id) {\r\n              if (this.PlayerGameInfo[index].NoOfBusiness[_businessIndex].BusinessType == 1) {\r\n                //home based\r\n                this.PlayerGameInfo[index].HomeBasedAmount--;\r\n              } else if (this.PlayerGameInfo[index].NoOfBusiness[_businessIndex].BusinessType == 2) {\r\n                //brick and mortar\r\n                var _locations = this.PlayerGameInfo[index].NoOfBusiness[_businessIndex].LocationsName.length;\r\n                this.PlayerGameInfo[index].BrickAndMortarAmount--;\r\n                this.PlayerGameInfo[index].TotalLocationsAmount -= _locations;\r\n              }\r\n\r\n              this.PlayerGameInfo[index].NoOfBusiness.splice(_businessIndex, 1);\r\n              _myIndex = index;\r\n              break;\r\n            }\r\n          }\r\n\r\n          console.log(this.PlayerGameInfo[_myIndex]);\r\n          if (_myIndex != -1) {\r\n            if (this.PlayerGameInfo[_myIndex].NoOfBusiness.length > 0) {\r\n              //check if player has lost all businesses or not\r\n              GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Your business \" + _business.BusinessName + \" was forcefully took over, you have lost that business\");\r\n            } else {\r\n              GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"Your business \" + _business.BusinessName + \" was forcefully took over, you have lost that business, you have been bankrupted, you will start again in next turn.\");\r\n              this.PlayerGameInfo[_myIndex].CardFunctionality.BankruptedNextTurn = true;\r\n            }\r\n\r\n            GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  TakeOverBusiness_CardFunctionality(_data, _index, _playerIndex = 0, _buyHalfBusiness = false) {\r\n    var _business = _data.NoOfBusiness[_index];\r\n    console.log(_business);\r\n\r\n    var _diceRoll = this.RollTwoDices();\r\n    var _multiplierBusiness = 10000;\r\n    var _result = _diceRoll * _multiplierBusiness;\r\n    var _player = null;\r\n\r\n    //send rpc to other player as well\r\n    _player = this.PlayerGameInfo[_playerIndex];\r\n\r\n    var _sendingData = { ID: _player.PlayerUID, Player: _player, Business: _business, BusinessIndex: _index };\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(23, _sendingData);\r\n\r\n    if (!_business.LoanTaken) {\r\n      this.PlayerGameInfo[this.TurnNumber].Cash += _result;\r\n\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\r\n        \"\\n\" + \"Dice Result : \" + _diceRoll + \"\\n\" + \"\\n\" + \"Amount : \" + _diceRoll + \" * \" + _multiplierBusiness + \" = $\" + _result + \"\\n\" + \"\\n\" + \"Cash amount of $\" + _result + \" added after deducting supposed loan, total cash becomes $\" + this.PlayerGameInfo[this.TurnNumber].Cash\r\n      );\r\n\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ExitScreenAlongTurnOver__BusinessGenric();\r\n    } else {\r\n      var _tempSum = this.PlayerGameInfo[this.TurnNumber].Cash + _result;\r\n      if (_tempSum >= _business.LoanAmount) {\r\n        _tempSum -= _business.LoanAmount;\r\n        this.PlayerGameInfo[this.TurnNumber].Cash = _tempSum;\r\n\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\r\n          \"\\n\" +\r\n            \"Dice Result : \" +\r\n            _diceRoll +\r\n            \"\\n\" +\r\n            \"\\n\" +\r\n            \"Loan Amount : $\" +\r\n            _business.LoanAmount +\r\n            \"\\n\" +\r\n            \"\\n\" +\r\n            \"Amount : \" +\r\n            _diceRoll +\r\n            \" * \" +\r\n            _multiplierBusiness +\r\n            \" = $\" +\r\n            _result +\r\n            \"\\n\" +\r\n            \"\\n\" +\r\n            \"After deducting supposed loan, total cash becomes $\" +\r\n            this.PlayerGameInfo[this.TurnNumber].Cash\r\n        );\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ExitScreenAlongTurnOver__BusinessGenric();\r\n      } else {\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash to pay off loan, turn will be skipped now\");\r\n        GamePlayReferenceManager.Instance.Get_GameplayUIManager().ExitScreenAlongTurnOver__BusinessGenric();\r\n      }\r\n    }\r\n  },\r\n\r\n  ReceiveEvent_BuyHalfBusiness_CardFunctionality(_data) {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        var _id = _data.ID;\r\n        var _cashAmount = _data.Amount;\r\n        var _businessIndex = _data.BusinessIndex;\r\n        var _senderID = _data.MyID;\r\n        var _senderName = _data.MyName;\r\n        var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n        var _myIndex = this.GetMyIndex();\r\n        if (_myActor.PlayerUID == _id.toString()) {\r\n          this.PlayerGameInfo[_myIndex].Cash += parseInt(_cashAmount);\r\n          this.PlayerGameInfo[_myIndex].NoOfBusiness[_businessIndex].IsPartnership = true;\r\n          this.PlayerGameInfo[_myIndex].NoOfBusiness[_businessIndex].PartnerID = _senderID;\r\n          this.PlayerGameInfo[_myIndex].NoOfBusiness[_businessIndex].PartnerName = _senderName;\r\n\r\n          GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(_senderName + \" has send you cash amount $\" + _cashAmount + \" and has become 50% owner of your business \" + this.PlayerGameInfo[_myIndex].NoOfBusiness[_businessIndex].BusinessName);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  ReceiveEvent_CompareDice_CardFunctionality(_data) {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n\r\n        CompareDiceData=_data;\r\n\r\n        var _receiverPlayer=CompareDiceData.Player;\r\n        var _receiverPlayerIndex=CompareDiceData.PlayerIndex;\r\n        var _senderPlayerUID=CompareDiceData.MyUserID;\r\n        var _senderDice=CompareDiceData.Dice1;\r\n        var _receiverDice=CompareDiceData.Dice2;\r\n        var _senderPayLimit=CompareDiceData.Limit1;\r\n        var _receiverPayLimit=CompareDiceData.Limit2;\r\n        var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n\r\n        if (_myActor.PlayerUID == _receiverPlayer.PlayerUID) {\r\n          GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleDecsion01Screen_CompareDice(true);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  RollDice_CompareDice_CardFunctionality()\r\n  {\r\n    var _receiverPlayer=CompareDiceData.Player;\r\n    var _receiverPlayerIndex=CompareDiceData.PlayerIndex;\r\n    var _senderPlayerUID=CompareDiceData.MyUserID;\r\n    var _senderDice=CompareDiceData.Dice1;\r\n    var _receiverDice=CompareDiceData.Dice2;\r\n    var _senderPayLimit=CompareDiceData.Limit1;\r\n    var _receiverPayLimit=CompareDiceData.Limit2;\r\n    var UIManager=GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n\r\n\r\n    var _info=\"\\n\"+\"Your Dice Result: \"+_receiverDice+\"\\n\"+\"\\n\"+\" Other Player Dice Result: \"+_senderDice;\r\n\r\n    UIManager.ToggleDecsion01Screen_CompareDice(false);\r\n    UIManager.ToggleDecsion02Screen_CompareDice(true);\r\n    UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n\r\n    var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    var _myIndex = this.GetMyIndex();\r\n\r\n    if(_senderDice>_receiverDice) //will give 20000\r\n    {\r\n      _info+=\"\\n\"+\"\\n\"+\" You have lost, you have to pay other player $$$.\";\r\n      UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n      UIManager.ToggleDecsion02ScreenButton_CompareDice(true);\r\n\r\n    }else if(_receiverDice>_senderDice) //will receive 20000\r\n    {\r\n\r\n        this.PlayerGameInfo[_myIndex].Cash+=20000;\r\n\r\n        GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n        _info+=\"\\n\"+\"\\n\"+\" You have won, amount $20000 has been added to your cash.\";\r\n        UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n        UIManager.ToggleDecsion02ScreenButton_CompareDice(false);\r\n\r\n        setTimeout(() => {\r\n          UIManager.ToggleDecsion02Screen_CompareDice(false);\r\n        }, 8000);\r\n    }\r\n\r\n    var _sentdata = { SenderUID: _senderPlayerUID , DecisionObject:CompareDiceData};\r\n    GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(28, _sentdata);\r\n\r\n  },\r\n\r\n  ReceiveEvent_CompareDiceDecision_CardFunctionality(_data) {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n\r\n        var _UID=_data.SenderUID;\r\n        var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n        var UIManager=GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n\r\n        var _receiverPlayer=_data.DecisionObject.Player;\r\n        var _receiverPlayerIndex=_data.DecisionObject.PlayerIndex;\r\n        var _senderPlayerUID=_data.DecisionObject.MyUserID;\r\n        var _senderDice=_data.DecisionObject.Dice1;\r\n        var _receiverDice=_data.DecisionObject.Dice2;\r\n        var _senderPayLimit=_data.DecisionObject.Limit1;\r\n        var _receiverPayLimit=_data.DecisionObject.Limit2;\r\n        var _myIndex = this.GetMyIndex();\r\n\r\n        UIManager.ToggleWaitingScreen_PartnerShipSetup(false);\r\n        console.log(_myActor.PlayerUID);\r\n        console.log(_UID);\r\n        if (_myActor.PlayerUID.toString() == _UID.toString()) {\r\n          var _info=\"\\n\"+\"Your Dice Result: \"+_senderDice+\"\\n\"+\"\\n\"+\" Other Player Dice Result: \"+_receiverDice;\r\n\r\n          UIManager.ToggleWaitingScreen_PartnerShipSetup(false);\r\n          UIManager.ToggleDecsion01Screen_CompareDice(false);\r\n          UIManager.ToggleDecsion02Screen_CompareDice(true);\r\n          UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n          UIManager.ToggleWaitingScreen_PartnerShipSetup(false);\r\n\r\n          if(_senderDice>_receiverDice) //will receive 20000\r\n          {\r\n              this.PlayerGameInfo[_myIndex].Cash+=20000;\r\n              _info+=\"\\n\"+\"\\n\"+\" You have won, amount $20000 has been added to your cash.\";\r\n              UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n              UIManager.ToggleDecsion02ScreenButton_CompareDice(false);\r\n\r\n              setTimeout(() => {\r\n                UIManager.ToggleDecsion02Screen_CompareDice(false);\r\n                GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleWaitingScreen_PartnerShipSetup(false);\r\n                UIManager.ExitAlongTurnOver_SelectPlayerGeneric();\r\n              }, 10000);\r\n\r\n          }else if(_receiverDice>_senderDice) //will give 20000\r\n          {\r\n            _info+=\"\\n\"+\"\\n\"+\" You have lost, you have to pay other player $$$.\";\r\n            UIManager.ChangeTitle_Decsion02Screen_CompareDice(_info);\r\n            UIManager.ToggleDecsion02ScreenButton_CompareDice(true);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  PayAmount_CompareDice_CardFunctionality()\r\n  {\r\n    var _myActor = GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.PlayerSessionData;\r\n    var _myIndex = this.GetMyIndex();\r\n    var UIManager=GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n\r\n    if(this.PlayerGameInfo[_myIndex].Cash>=20000)\r\n    {\r\n      this.PlayerGameInfo[_myIndex].Cash-=20000;\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().SetBankruptedVar(false);\r\n      UIManager.ToggleDecsion02Screen_CompareDice(false);\r\n      if(_myIndex==this.TurnNumber)\r\n      {\r\n        UIManager.ExitAlongTurnOver_SelectPlayerGeneric();\r\n      }\r\n    }else\r\n    {\r\n      // if(_myIndex!=this.TurnNumber)\r\n      // {\r\n      //   GamePlayReferenceManager.Instance.Get_GameplayUIManager().SetBankruptedVar(true);\r\n      // }else\r\n      // {\r\n      //   GamePlayReferenceManager.Instance.Get_GameplayUIManager().SetBankruptedVar(false);\r\n      // }\r\n\r\n      // GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleScreen_InsufficientBalance(true);\r\n\r\n      this.PlayerGameInfo[_myIndex].Cash=0;\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().setCustomProperty(\"PlayerSessionData\", this.PlayerGameInfo[_myIndex]);\r\n      UIManager.ToggleDecsion02Screen_CompareDice(false);\r\n      if(_myIndex==this.TurnNumber)\r\n      {\r\n        UIManager.ExitAlongTurnOver_SelectPlayerGeneric();\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n  PayAmount_BuyHalfBusiness_CardFunctionality() {\r\n    if (this.PlayerGameInfo[this.TurnNumber].Cash >= halfBusinessAmount) {\r\n      this.PlayerGameInfo[this.TurnNumber].Cash -= halfBusinessAmount;\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You have successfully bought half ownership of the business, remaining cash $\" + this.PlayerGameInfo[this.TurnNumber].Cash);\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ExitScreenAlongTurnOver__BusinessGenric();\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleScreen_BuyHalfBusiness(false);\r\n      var _sendingData = { ID: halfBusinessAmountID, Amount: halfBusinessAmount, BusinessIndex: halfBusinessAmountIndex, MyID: this.PlayerGameInfo[this.TurnNumber].PlayerUID, MyName: this.PlayerGameInfo[this.TurnNumber].PlayerName };\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(26, _sendingData);\r\n    } else {\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleScreen_InsufficientBalance(true);\r\n      //GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowToast(\"You don't have enough cash.\");\r\n    }\r\n  },\r\n  BuyHalfBusiness_CardFunctionality(_data, _index, _playerIndex = 0) {\r\n    //var _business = _data.NoOfBusiness[_index];\r\n    //console.log(_business);\r\n\r\n    var _diceRoll = this.RollTwoDices();\r\n    var _multiplierBusiness = 3000;\r\n    var _result = _diceRoll * _multiplierBusiness;\r\n\r\n    halfBusinessAmount = _result;\r\n    halfBusinessAmountID = this.PlayerGameInfo[_playerIndex].PlayerUID;\r\n    halfBusinessAmountIndex = _index;\r\n\r\n    var _player = null;\r\n    var _text = \"\\n\" + \"Dice Result : \" + _diceRoll + \"\\n\" + \"\\n\" + \"Payable Amount : \" + _diceRoll + \" * \" + _multiplierBusiness + \" = $\" + _result;\r\n\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleScreen_BuyHalfBusiness(true);\r\n    GamePlayReferenceManager.Instance.Get_GameplayUIManager().SetTitleText_BuyHalfBusiness(_text);\r\n  },\r\n  ReceiveEvent_SelectPlayerDamagingDecision_Space_CardFunctionality(_data) {\r\n    if (this.SelectedMode == 2) {\r\n      if (GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.RoomEssentials.IsSpectate == false) {\r\n        var _player = _data.Player;\r\n        var _playerIndex = parseInt(_data.PlayerIndex);\r\n        var _senderID = _data.MyUserID;\r\n\r\n        var _gameplayUIManager = GamePlayReferenceManager.Instance.Get_GameplayUIManager();\r\n        if (_player.PlayerUID == GamePlayReferenceManager.Instance.Get_MultiplayerController().PhotonActor().customProperties.Data.userID) {\r\n          console.log(\"received event: \" + _player.PlayerName);\r\n\r\n          _gameplayUIManager.SetSenderID_DamageDecision(_senderID);\r\n          _gameplayUIManager.ToggleMainScreen_DamageDecision(true);\r\n          _gameplayUIManager.ToggleDiceResultScreen_DamageDecision(false);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  //#endregion\r\n  //#endregion\r\n});\r\n//module.exports  = PlayerData; //when imports in another script only reference of playerdata class would be able to accessed from Gamemanager import\r\nmodule.exports = GameManager;\r\n//#endregion\r\n"]}