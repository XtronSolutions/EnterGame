{"version":3,"sources":["assets\\Script\\PlayerDetails.js"],"names":["GamePlayReferenceManager","QuestionsData","PlayerDetails","cc","Class","name","Component","properties","PlayerNameLabel","type","Label","serializable","IsOneQuestion","Boolean","toolTip","SelectedPlayerIndex","Integer","SelectedPlayerUserID","Text","QuestionID","QuestionNode","Node","onEnable","CheckReferences","VocQuestion","EstQuestion","ToastMessage","QuestionRef","require","setPlayerIndex","_index","setPlayerName","_name","string","setPlayerUID","_uID","RaiseEventOneQuestion","Instance","Get_QuestionsData","_Qdata","console","log","VocabularyQuestions","EstablishmentQuestions","Get_MultiplayerController","GetSelectedMode","Question","Option1","Option2","Option3","Option4","Get_GameplayUIManager","ToggleWaitingScreen_OneQuestionSetupUI","ShowQuestionToast","_data","UserID","UserIndex","IsVoc","Get_MultiplayerSyncManager","RaiseEvent","AskVocabularyQuestion","getRandom","AskEstablishmentQuestion","min","max","Math","floor","random"],"mappings":"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","sourceRoot":"/","sourcesContent":["var GamePlayReferenceManager = null;\r\nvar QuestionsData = null;\r\nvar PlayerDetails = cc.Class({\r\n  name: \"PlayerDetails\",\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    PlayerNameLabel: {\r\n      default: null,\r\n      type: cc.Label,\r\n      serializable: true,\r\n    },\r\n    IsOneQuestion: {\r\n      default: false,\r\n      type: cc.Boolean,\r\n      serializable: true,\r\n      toolTip: \"Is current node can be selected as one question functionality\",\r\n    },\r\n    SelectedPlayerIndex: {\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n    },\r\n    SelectedPlayerUserID: {\r\n      default: \"\",\r\n      type: cc.Text,\r\n      serializable: true,\r\n    },\r\n    QuestionID: {\r\n      default: 0,\r\n      type: cc.Integer,\r\n      serializable: true,\r\n    },\r\n    QuestionNode: {\r\n      default: null,\r\n      type: cc.Node,\r\n      serializable: true,\r\n    },\r\n  },\r\n\r\n  onEnable() {\r\n    this.CheckReferences();\r\n\r\n    if (this.IsOneQuestion) {\r\n      this.VocQuestion = false;\r\n      this.EstQuestion = false;\r\n      this.ToastMessage = \"\";\r\n      if (this.QuestionNode) {\r\n        this.QuestionRef = null;\r\n        // console.log(this.QuestionRef);\r\n      }\r\n    }\r\n  },\r\n\r\n  CheckReferences() {\r\n    if (!GamePlayReferenceManager || GamePlayReferenceManager == null) GamePlayReferenceManager = require(\"GamePlayReferenceManager\");\r\n    // if (!QuestionsData || QuestionsData == null) QuestionsData = require(\"QuestionsData\");\r\n  },\r\n\r\n  //#region One Question space funtionality\r\n  setPlayerIndex(_index) {\r\n    this.SelectedPlayerIndex = _index;\r\n  },\r\n\r\n  setPlayerName(_name) {\r\n    this.PlayerNameLabel.string = _name;\r\n  },\r\n\r\n  setPlayerUID(_uID) {\r\n    this.SelectedPlayerUserID = _uID;\r\n  },\r\n\r\n  RaiseEventOneQuestion() {\r\n    this.QuestionRef = GamePlayReferenceManager.Instance.Get_QuestionsData();\r\n    var _Qdata;\r\n    if (this.VocQuestion) {\r\n      console.log(\"voc\");\r\n      _Qdata = this.QuestionRef.VocabularyQuestions[this.QuestionID];\r\n    } else if (this.EstQuestion) {\r\n      console.log(\"est\");\r\n      _Qdata = this.QuestionRef.EstablishmentQuestions[this.QuestionID];\r\n    }\r\n\r\n    console.log(_Qdata);\r\n\r\n    if (GamePlayReferenceManager.Instance.Get_MultiplayerController().GetSelectedMode() == 2) {\r\n      this.ToastMessage = \"You have asked following question:\" + \"\\n\" + _Qdata.Question + \"\\n\" + \"A. \" + _Qdata.Option1 + \"\\n\" + \"B. \" + _Qdata.Option2 + \"\\n\" + \"C. \" + _Qdata.Option3 + \"\\n\" + \"D. \" + _Qdata.Option4 + \"\\n\" + \"\\n\" + \"waiting for player to answer....\";\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleWaitingScreen_OneQuestionSetupUI(true);\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ShowQuestionToast(this.ToastMessage);\r\n\r\n      var _data = { Question: this.QuestionID, UserID: this.SelectedPlayerUserID, UserIndex: this.SelectedPlayerIndex, IsVoc: this.VocQuestion };\r\n      GamePlayReferenceManager.Instance.Get_MultiplayerSyncManager().RaiseEvent(7, _data);\r\n\r\n      //wait for other player\r\n      GamePlayReferenceManager.Instance.Get_GameplayUIManager().ToggleWaitingScreen_OneQuestionSetupUI(true);\r\n    } else {\r\n      console.log(\"no sending question to bot\");\r\n    }\r\n  },\r\n\r\n  AskVocabularyQuestion() {\r\n    if (this.IsOneQuestion) {\r\n      this.QuestionID = this.getRandom(0, 12);\r\n      this.VocQuestion = true;\r\n      this.EstQuestion = false;\r\n      this.RaiseEventOneQuestion();\r\n    }\r\n  },\r\n\r\n  AskEstablishmentQuestion() {\r\n    if (this.IsOneQuestion) {\r\n      this.QuestionID = this.getRandom(0, 12);\r\n      this.VocQuestion = false;\r\n      this.EstQuestion = true;\r\n      this.RaiseEventOneQuestion();\r\n    }\r\n  },\r\n\r\n  getRandom: function (min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min; // min included and max excluded\r\n  },\r\n\r\n  //   SkippedLoan() {\r\n  //     if (this.IsOneQuestion) {\r\n  //       this.QuestionID = 1;\r\n  //       this.RaiseEventOneQuestion();\r\n  //     }\r\n  //   },\r\n\r\n  //   TakenLoan() {\r\n  //     if (this.IsOneQuestion) {\r\n  //       this.QuestionID = 2;\r\n  //       this.RaiseEventOneQuestion();\r\n  //     }\r\n  //   },\r\n\r\n  //   IsBankrupt() {\r\n  //     if (this.IsOneQuestion) {\r\n  //       this.QuestionID = 3;\r\n  //       this.RaiseEventOneQuestion();\r\n  //     }\r\n  //   },\r\n\r\n  //   IsTurnSkip() {\r\n  //     if (this.IsOneQuestion) {\r\n  //       this.QuestionID = 4;\r\n  //       this.RaiseEventOneQuestion();\r\n  //     }\r\n  //   },\r\n\r\n  //   IsDoublePayDay() {\r\n  //     if (this.IsOneQuestion) {\r\n  //       this.QuestionID = 5;\r\n  //       this.RaiseEventOneQuestion();\r\n  //     }\r\n  //   },\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  // start () {\r\n\r\n  // },\r\n\r\n  // update (dt) {},\r\n});\r\n"]}