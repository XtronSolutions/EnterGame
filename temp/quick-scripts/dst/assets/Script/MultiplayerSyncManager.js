
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/MultiplayerSyncManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b24e1h7gENJfpQ8MTfHBgb9', 'MultiplayerSyncManager');
// Script/MultiplayerSyncManager.js

"use strict";

var GamePlayReferenceManager = null;
var MultiplayerSyncManager = cc.Class({
  name: "MultiplayerSyncManager",
  "extends": cc.Component,
  properties: {},
  statics: {
    //creating static instance of the class
    Instance: null
  },
  RemovePersistNode: function RemovePersistNode() {
    MultiplayerSyncManager.Instance = null;
    cc.game.removePersistRootNode(this.node);
  },
  onLoad: function onLoad() {
    if (!MultiplayerSyncManager.Instance) {
      cc.game.addPersistRootNode(this.node);
      MultiplayerSyncManager.Instance = this;
    }

    this.CheckReferences();
    this.SelectedMode = GamePlayReferenceManager.Instance.Get_MultiplayerController().GetSelectedMode();
  },
  CheckReferences: function CheckReferences() {
    if (!GamePlayReferenceManager || GamePlayReferenceManager == null) GamePlayReferenceManager = require('GamePlayReferenceManager');
  },
  RaiseEvent: function RaiseEvent(_eventCode, _data) {
    if (_eventCode == 1) //sending playerinfo 
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 2) //sending Turn Start Call
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().StartTurn(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 3) //sending Dice Roll Value
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().DiceRollEvent(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 4) //sending userID of player who had completed their turn
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SyncTurnCompletion(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 5) //sending card data (index) so other users can sync them
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendCardData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 6) //sending call to end the game
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendGameOver(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 7) //sending data for one question space
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendOneQuestionData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 8) //sending back data for one question space
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendOneQuestionResponseData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 9) //sending data to reset positions after bankrupt
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendBankruptData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      } else if (_eventCode == 10) //sending go back spaces data
      {
        if (this.SelectedMode == 2) //for player
          GamePlayReferenceManager.Instance.Get_MultiplayerController().SendGoBackSpaceData(_data);else if (this.SelectedMode == 1) //for bot
          this.ReceiveEvent(_eventCode, "customName", "customID", _data);
      }
  },
  ReceiveEvent: function ReceiveEvent(_eventCode, _senderName, _senderID, _data) {
    if (_eventCode == 1) //receiving playerinfo
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        cc.systemEvent.emit("SyncData", _data, _senderID); //function defined in GameplayUIManager
      } else if (_eventCode == 2) //receiving start Turn
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().TurnHandler(_data);
      } else if (_eventCode == 3) //receiving dice roll data
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().syncDiceRoll(_data);
      } else if (_eventCode == 4) //receiving userid of player who has completed turn
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().ReceiveEventTurnComplete(_data);
      } else if (_eventCode == 5) //receiving card data (index) so other users can sync them
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().ReceiveEventForCard(_data);
      } else if (_eventCode == 6) //receiving game over call
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().SyncGameOver(_data);
      } else if (_eventCode == 7) //receiving one question data
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().QuestionPopUp_OtherUser_OneQuestion(_data);
      } else if (_eventCode == 8) //receiving one question response data
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().ReceiveEventDecision_OneQuestion(_data);
      } else if (_eventCode == 9) //receiving bankrupcy data
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().ReceiveBankruptData(_data);
      } else if (_eventCode == 10) //receiving bankrupcy data
      {
        console.log("sender name: " + _senderName);
        console.log("sender ID: " + _senderID);
        GamePlayReferenceManager.Instance.Get_GameManager().ReceiveGoBackSpacesData_spaceFunctionality(_data);
      }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxNdWx0aXBsYXllclN5bmNNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbIkdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlciIsIk11bHRpcGxheWVyU3luY01hbmFnZXIiLCJjYyIsIkNsYXNzIiwibmFtZSIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJzdGF0aWNzIiwiSW5zdGFuY2UiLCJSZW1vdmVQZXJzaXN0Tm9kZSIsImdhbWUiLCJyZW1vdmVQZXJzaXN0Um9vdE5vZGUiLCJub2RlIiwib25Mb2FkIiwiYWRkUGVyc2lzdFJvb3ROb2RlIiwiQ2hlY2tSZWZlcmVuY2VzIiwiU2VsZWN0ZWRNb2RlIiwiR2V0X011bHRpcGxheWVyQ29udHJvbGxlciIsIkdldFNlbGVjdGVkTW9kZSIsInJlcXVpcmUiLCJSYWlzZUV2ZW50IiwiX2V2ZW50Q29kZSIsIl9kYXRhIiwiU2VuZERhdGEiLCJSZWNlaXZlRXZlbnQiLCJTdGFydFR1cm4iLCJEaWNlUm9sbEV2ZW50IiwiU3luY1R1cm5Db21wbGV0aW9uIiwiU2VuZENhcmREYXRhIiwiU2VuZEdhbWVPdmVyIiwiU2VuZE9uZVF1ZXN0aW9uRGF0YSIsIlNlbmRPbmVRdWVzdGlvblJlc3BvbnNlRGF0YSIsIlNlbmRCYW5rcnVwdERhdGEiLCJTZW5kR29CYWNrU3BhY2VEYXRhIiwiX3NlbmRlck5hbWUiLCJfc2VuZGVySUQiLCJjb25zb2xlIiwibG9nIiwic3lzdGVtRXZlbnQiLCJlbWl0IiwiR2V0X0dhbWVNYW5hZ2VyIiwiVHVybkhhbmRsZXIiLCJzeW5jRGljZVJvbGwiLCJSZWNlaXZlRXZlbnRUdXJuQ29tcGxldGUiLCJSZWNlaXZlRXZlbnRGb3JDYXJkIiwiU3luY0dhbWVPdmVyIiwiUXVlc3Rpb25Qb3BVcF9PdGhlclVzZXJfT25lUXVlc3Rpb24iLCJSZWNlaXZlRXZlbnREZWNpc2lvbl9PbmVRdWVzdGlvbiIsIlJlY2VpdmVCYW5rcnVwdERhdGEiLCJSZWNlaXZlR29CYWNrU3BhY2VzRGF0YV9z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cUZ6QixLQUFyRjtBQUNILE9BTEssTUFLQSxJQUFHRCxVQUFVLElBQUUsQ0FBZixFQUFrQjtBQUN4QjtBQUNJZSxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBZ0JILFdBQTVCO0FBQ0FFLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFjRixTQUExQjtBQUNBbkMsUUFBQUEsd0JBQXdCLENBQUNRLFFBQXpCLENBQWtDZ0MsZUFBbEMsR0FBb0RRLG1CQUFwRCxDQUF3RTFCLEtBQXhFO0FBQ0gsT0FMSyxNQU1ELElBQUdELFVBQVUsSUFBRSxFQUFmLEVBQW1CO0FBQ3hCO0FBQ0llLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFnQkgsV0FBNUI7QUFDQUUsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQWNGLFNBQTFCO0FBQ0FuQyxRQUFBQSx3QkFBd0IsQ0FBQ1EsUUFBekIsQ0FBa0NnQyxlQUFsQyxHQUFvRFMsMENBQXBELENBQStGM0IsS0FBL0Y7QUFDSDtBQUNKO0FBdksrQixDQUFULENBQTNCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyPW51bGw7XHJcblxyXG52YXIgTXVsdGlwbGF5ZXJTeW5jTWFuYWdlcj1jYy5DbGFzcyh7XHJcbiAgICBuYW1lOlwiTXVsdGlwbGF5ZXJTeW5jTWFuYWdlclwiLFxyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXRpY3M6IHsgLy9jcmVhdGluZyBzdGF0aWMgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzXHJcbiAgICAgICAgSW5zdGFuY2U6IG51bGwsXHJcbiAgICB9LFxyXG5cclxuICAgIFJlbW92ZVBlcnNpc3ROb2RlKClcclxuICAgIHtcclxuICAgICAgICBNdWx0aXBsYXllclN5bmNNYW5hZ2VyLkluc3RhbmNlPW51bGw7XHJcbiAgICAgICAgY2MuZ2FtZS5yZW1vdmVQZXJzaXN0Um9vdE5vZGUodGhpcy5ub2RlKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuXHJcbiAgICAgICAgaWYoIU11bHRpcGxheWVyU3luY01hbmFnZXIuSW5zdGFuY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5nYW1lLmFkZFBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xyXG4gICAgICAgICAgICBNdWx0aXBsYXllclN5bmNNYW5hZ2VyLkluc3RhbmNlPXRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQ2hlY2tSZWZlcmVuY2VzKCk7XHJcbiAgICAgICAgdGhpcy5TZWxlY3RlZE1vZGU9IEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfTXVsdGlwbGF5ZXJDb250cm9sbGVyKCkuR2V0U2VsZWN0ZWRNb2RlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIENoZWNrUmVmZXJlbmNlcygpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIUdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlciB8fCBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXI9PW51bGwpXHJcbiAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyPXJlcXVpcmUoJ0dhbWVQbGF5UmVmZXJlbmNlTWFuYWdlcicpO1xyXG4gICAgfSxcclxuXHJcbiAgICBSYWlzZUV2ZW50IChfZXZlbnRDb2RlLF9kYXRhKSB7ICBcclxuICAgICAgICBpZihfZXZlbnRDb2RlPT0xKSAvL3NlbmRpbmcgcGxheWVyaW5mbyBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0yKS8vZm9yIHBsYXllclxyXG4gICAgICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9NdWx0aXBsYXllckNvbnRyb2xsZXIoKS5TZW5kRGF0YShfZGF0YSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5TZWxlY3RlZE1vZGU9PTEpLy9mb3IgYm90XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY2VpdmVFdmVudChfZXZlbnRDb2RlLFwiY3VzdG9tTmFtZVwiLFwiY3VzdG9tSURcIixfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09MikgLy9zZW5kaW5nIFR1cm4gU3RhcnQgQ2FsbFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5TZWxlY3RlZE1vZGU9PTIpLy9mb3IgcGxheWVyXHJcbiAgICAgICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X011bHRpcGxheWVyQ29udHJvbGxlcigpLlN0YXJ0VHVybihfZGF0YSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5TZWxlY3RlZE1vZGU9PTEpLy9mb3IgYm90XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY2VpdmVFdmVudChfZXZlbnRDb2RlLFwiY3VzdG9tTmFtZVwiLFwiY3VzdG9tSURcIixfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09MykgLy9zZW5kaW5nIERpY2UgUm9sbCBWYWx1ZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5TZWxlY3RlZE1vZGU9PTIpLy9mb3IgcGxheWVyXHJcbiAgICAgICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X011bHRpcGxheWVyQ29udHJvbGxlcigpLkRpY2VSb2xsRXZlbnQoX2RhdGEpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0xKS8vZm9yIGJvdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWNlaXZlRXZlbnQoX2V2ZW50Q29kZSxcImN1c3RvbU5hbWVcIixcImN1c3RvbUlEXCIsX2RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKF9ldmVudENvZGU9PTQpIC8vc2VuZGluZyB1c2VySUQgb2YgcGxheWVyIHdobyBoYWQgY29tcGxldGVkIHRoZWlyIHR1cm5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0yKS8vZm9yIHBsYXllclxyXG4gICAgICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9NdWx0aXBsYXllckNvbnRyb2xsZXIoKS5TeW5jVHVybkNvbXBsZXRpb24oX2RhdGEpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0xKS8vZm9yIGJvdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWNlaXZlRXZlbnQoX2V2ZW50Q29kZSxcImN1c3RvbU5hbWVcIixcImN1c3RvbUlEXCIsX2RhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKF9ldmVudENvZGU9PTUpIC8vc2VuZGluZyBjYXJkIGRhdGEgKGluZGV4KSBzbyBvdGhlciB1c2VycyBjYW4gc3luYyB0aGVtXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLlNlbGVjdGVkTW9kZT09MikvL2ZvciBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfTXVsdGlwbGF5ZXJDb250cm9sbGVyKCkuU2VuZENhcmREYXRhKF9kYXRhKTtcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLlNlbGVjdGVkTW9kZT09MSkvL2ZvciBib3RcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjZWl2ZUV2ZW50KF9ldmVudENvZGUsXCJjdXN0b21OYW1lXCIsXCJjdXN0b21JRFwiLF9kYXRhKTtcclxuXHJcbiAgICAgICAgfWVsc2UgaWYoX2V2ZW50Q29kZT09NikgLy9zZW5kaW5nIGNhbGwgdG8gZW5kIHRoZSBnYW1lXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLlNlbGVjdGVkTW9kZT09MikvL2ZvciBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfTXVsdGlwbGF5ZXJDb250cm9sbGVyKCkuU2VuZEdhbWVPdmVyKF9kYXRhKTtcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLlNlbGVjdGVkTW9kZT09MSkvL2ZvciBib3RcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjZWl2ZUV2ZW50KF9ldmVudENvZGUsXCJjdXN0b21OYW1lXCIsXCJjdXN0b21JRFwiLF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihfZXZlbnRDb2RlPT03KSAvL3NlbmRpbmcgZGF0YSBmb3Igb25lIHF1ZXN0aW9uIHNwYWNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLlNlbGVjdGVkTW9kZT09MikvL2ZvciBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfTXVsdGlwbGF5ZXJDb250cm9sbGVyKCkuU2VuZE9uZVF1ZXN0aW9uRGF0YShfZGF0YSk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5TZWxlY3RlZE1vZGU9PTEpLy9mb3IgYm90XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY2VpdmVFdmVudChfZXZlbnRDb2RlLFwiY3VzdG9tTmFtZVwiLFwiY3VzdG9tSURcIixfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09OCkgLy9zZW5kaW5nIGJhY2sgZGF0YSBmb3Igb25lIHF1ZXN0aW9uIHNwYWNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLlNlbGVjdGVkTW9kZT09MikvL2ZvciBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfTXVsdGlwbGF5ZXJDb250cm9sbGVyKCkuU2VuZE9uZVF1ZXN0aW9uUmVzcG9uc2VEYXRhKF9kYXRhKTtcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLlNlbGVjdGVkTW9kZT09MSkvL2ZvciBib3RcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjZWl2ZUV2ZW50KF9ldmVudENvZGUsXCJjdXN0b21OYW1lXCIsXCJjdXN0b21JRFwiLF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihfZXZlbnRDb2RlPT05KSAvL3NlbmRpbmcgZGF0YSB0byByZXNldCBwb3NpdGlvbnMgYWZ0ZXIgYmFua3J1cHRcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0yKS8vZm9yIHBsYXllclxyXG4gICAgICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9NdWx0aXBsYXllckNvbnRyb2xsZXIoKS5TZW5kQmFua3J1cHREYXRhKF9kYXRhKTtcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLlNlbGVjdGVkTW9kZT09MSkvL2ZvciBib3RcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjZWl2ZUV2ZW50KF9ldmVudENvZGUsXCJjdXN0b21OYW1lXCIsXCJjdXN0b21JRFwiLF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihfZXZlbnRDb2RlPT0xMCkgLy9zZW5kaW5nIGdvIGJhY2sgc3BhY2VzIGRhdGFcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuU2VsZWN0ZWRNb2RlPT0yKS8vZm9yIHBsYXllclxyXG4gICAgICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9NdWx0aXBsYXllckNvbnRyb2xsZXIoKS5TZW5kR29CYWNrU3BhY2VEYXRhKF9kYXRhKTtcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLlNlbGVjdGVkTW9kZT09MSkvL2ZvciBib3RcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjZWl2ZUV2ZW50KF9ldmVudENvZGUsXCJjdXN0b21OYW1lXCIsXCJjdXN0b21JRFwiLF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIFJlY2VpdmVFdmVudCAoX2V2ZW50Q29kZSxfc2VuZGVyTmFtZSxfc2VuZGVySUQsX2RhdGEpIHtcclxuICAgICAgICBpZihfZXZlbnRDb2RlPT0xKSAvL3JlY2VpdmluZyBwbGF5ZXJpbmZvXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBjYy5zeXN0ZW1FdmVudC5lbWl0KFwiU3luY0RhdGFcIixfZGF0YSxfc2VuZGVySUQpOyAvL2Z1bmN0aW9uIGRlZmluZWQgaW4gR2FtZXBsYXlVSU1hbmFnZXJcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09MikgLy9yZWNlaXZpbmcgc3RhcnQgVHVyblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZW5kZXIgbmFtZTogXCIrX3NlbmRlck5hbWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBJRDogXCIrX3NlbmRlcklEKTtcclxuICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9HYW1lTWFuYWdlcigpLlR1cm5IYW5kbGVyKF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihfZXZlbnRDb2RlPT0zKSAvL3JlY2VpdmluZyBkaWNlIHJvbGwgZGF0YVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZW5kZXIgbmFtZTogXCIrX3NlbmRlck5hbWUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBJRDogXCIrX3NlbmRlcklEKTtcclxuICAgICAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9HYW1lTWFuYWdlcigpLnN5bmNEaWNlUm9sbChfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09NCkgLy9yZWNlaXZpbmcgdXNlcmlkIG9mIHBsYXllciB3aG8gaGFzIGNvbXBsZXRlZCB0dXJuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUmVjZWl2ZUV2ZW50VHVybkNvbXBsZXRlKF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihfZXZlbnRDb2RlPT01KSAvL3JlY2VpdmluZyBjYXJkIGRhdGEgKGluZGV4KSBzbyBvdGhlciB1c2VycyBjYW4gc3luYyB0aGVtXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUmVjZWl2ZUV2ZW50Rm9yQ2FyZChfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09NikgLy9yZWNlaXZpbmcgZ2FtZSBvdmVyIGNhbGxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIG5hbWU6IFwiK19zZW5kZXJOYW1lKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZW5kZXIgSUQ6IFwiK19zZW5kZXJJRCk7XHJcbiAgICAgICAgICAgIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlci5JbnN0YW5jZS5HZXRfR2FtZU1hbmFnZXIoKS5TeW5jR2FtZU92ZXIoX2RhdGEpO1xyXG4gICAgICAgIH1lbHNlIGlmKF9ldmVudENvZGU9PTcpIC8vcmVjZWl2aW5nIG9uZSBxdWVzdGlvbiBkYXRhXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUXVlc3Rpb25Qb3BVcF9PdGhlclVzZXJfT25lUXVlc3Rpb24oX2RhdGEpO1xyXG4gICAgICAgIH1lbHNlIGlmKF9ldmVudENvZGU9PTgpIC8vcmVjZWl2aW5nIG9uZSBxdWVzdGlvbiByZXNwb25zZSBkYXRhXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUmVjZWl2ZUV2ZW50RGVjaXNpb25fT25lUXVlc3Rpb24oX2RhdGEpO1xyXG4gICAgICAgIH1lbHNlIGlmKF9ldmVudENvZGU9PTkpIC8vcmVjZWl2aW5nIGJhbmtydXBjeSBkYXRhXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUmVjZWl2ZUJhbmtydXB0RGF0YShfZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoX2V2ZW50Q29kZT09MTApIC8vcmVjZWl2aW5nIGJhbmtydXBjeSBkYXRhXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmRlciBuYW1lOiBcIitfc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2VuZGVyIElEOiBcIitfc2VuZGVySUQpO1xyXG4gICAgICAgICAgICBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXIuSW5zdGFuY2UuR2V0X0dhbWVNYW5hZ2VyKCkuUmVjZWl2ZUdvQmFja1NwYWNlc0RhdGFfc3BhY2VGdW5jdGlvbmFsaXR5KF9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxufSk7XHJcbiJdfQ==