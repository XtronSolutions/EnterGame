
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/PlayerProfileManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5bf9bM1le5IzIRIaU5nMgXr', 'PlayerProfileManager');
// Script/PlayerProfileManager.js

"use strict";

var businessDetailNodes = [];
var PlayerInfoUI = cc.Class({
  name: "PlayerInfoUI",
  properties: {
    PlayerName: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player name label of info player UI"
    },
    PlayerCash: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player cash label of info player UI"
    },
    PlayerMarketingAmount: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player marketing amount label of info player UI"
    },
    LawyerLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player lawyer status label of info player UI"
    },
    GoldBalanceLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player gold balance label of info player UI"
    },
    StockBalanceLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player stock balance label of info player UI"
    },
    PartnershipStatusLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player partnership status label of info player UI"
    },
    BusinessNumberLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the player business number label of info player UI"
    },
    BusinessDetailContent: {
      "default": null,
      type: cc.Node,
      serializable: true,
      toolTip: "Reference of the content of scroll view of business detail node of info player UI"
    },
    BusinessDetailPrefab: {
      "default": null,
      type: cc.Prefab,
      serializable: true,
      toolTip: "Reference of the business detail prefab of info player UI"
    }
  }
});
var GamePlayReferenceManager = null;

var GameManager = require('GameManager');

var PlayerProfileManager = cc.Class({
  name: "PlayerProfileManager",
  "extends": cc.Component,
  properties: {
    BGHighlight: {
      "default": null,
      type: cc.Node,
      serializable: true,
      toolTip: "Reference of the node of player's BG highlight Node"
    },
    PlayerAvatarSprite: {
      "default": null,
      type: cc.Sprite,
      serializable: true,
      toolTip: "Reference of the sprite of player's avatar"
    },
    PlayerNameLabel: {
      "default": null,
      type: cc.Label,
      serializable: true,
      toolTip: "Reference of the label of player's name"
    },
    PlayerTurnHighlighterNode: {
      "default": null,
      type: cc.Node,
      serializable: true,
      toolTip: "Reference of the node of player's highlighter"
    },
    AvatarSpriteFrames: {
      "default": [],
      type: [cc.SpriteFrame],
      serializable: true,
      toolTip: "Reference of the array of sprites of player's avatar"
    },
    PlayerIndex: {
      "default": -1,
      type: cc.integer,
      serializable: true
    },
    PlayerInfoScreen: {
      "default": null,
      type: cc.Node,
      serializable: true
    },
    PlayerInfoMainUI: {
      "default": null,
      type: PlayerInfoUI,
      serializable: true,
      tooltip: "all player's UI data"
    },
    DiceRollScreen: {
      "default": null,
      type: cc.Node,
      serializable: true
    },
    PlayerInfo: {
      "default": null,
      type: GameManager.PlayerData,
      serializable: true,
      tooltip: "all player's data"
    }
  },
  onLoad: function onLoad() {
    this.CheckReferences();
  },
  //
  start: function start() {},
  CheckReferences: function CheckReferences() {
    if (!GamePlayReferenceManager || GamePlayReferenceManager == null) GamePlayReferenceManager = require('GamePlayReferenceManager');
  },
  SetName: function SetName(_name) {
    this.PlayerNameLabel.string = _name;
  },
  SetAvatar: function SetAvatar(_index) {
    this.PlayerAvatarSprite.spriteFrame = this.AvatarSpriteFrames[_index];
  },
  ToggleBGHighlighter: function ToggleBGHighlighter(_state) {
    this.BGHighlight.active = _state;
  },
  ToggleTextighlighter: function ToggleTextighlighter(_state) {
    this.PlayerTurnHighlighterNode.active = _state;
  },
  SeeProfileData: function SeeProfileData() {
    this.PlayerInfoScreen.active = true;
    this.CheckReferences();
    businessDetailNodes = [];
    var _tempData = GamePlayReferenceManager.Instance.Get_GameManager().PlayerGameInfo[this.PlayerIndex];
    this.PlayerInfoMainUI.PlayerName.string = _tempData.PlayerName;
    this.PlayerInfoMainUI.PlayerCash.string = _tempData.Cash;
    this.PlayerInfoMainUI.PlayerMarketingAmount.string = _tempData.MarketingAmount;
    if (_tempData.LawyerStatus) this.PlayerInfoMainUI.LawyerLabel.string = "YES";else this.PlayerInfoMainUI.LawyerLabel.string = "NO";
    this.PlayerInfoMainUI.PartnershipStatusLabel.string = "N/A";
    this.PlayerInfoMainUI.GoldBalanceLabel.string = _tempData.GoldCount;
    this.PlayerInfoMainUI.StockBalanceLabel.string = _tempData.StockCount; //this.PlayerInfoMainUI.StockBalanceLabel.string=_tempData.NoOfStocks.length;

    this.PlayerInfoMainUI.BusinessNumberLabel.string = "No of Businesses : " + _tempData.NoOfBusiness.length;

    for (var index = 0; index < _tempData.NoOfBusiness.length; index++) {
      var node = cc.instantiate(this.PlayerInfoMainUI.BusinessDetailPrefab);
      node.parent = this.PlayerInfoMainUI.BusinessDetailContent;
      node.getComponent('BusinessDetail').SetName(_tempData.NoOfBusiness[index].BusinessName);
      node.getComponent('BusinessDetail').SetType(_tempData.NoOfBusiness[index].BusinessTypeDescription);
      node.getComponent('BusinessDetail').SetType(_tempData.NoOfBusiness[index].BusinessTypeDescription);
      if (parseInt(_tempData.NoOfBusiness[index].BusinessType) == 1) node.getComponent('BusinessDetail').SetMode("Home Based");else if (parseInt(_tempData.NoOfBusiness[index].BusinessType) == 2) node.getComponent('BusinessDetail').SetMode("Brick & Mortar");
      node.getComponent('BusinessDetail').SetBalance(_tempData.NoOfBusiness[index].Amount);
      node.getComponent('BusinessDetail').SetLocations(_tempData.NoOfBusiness[index].LocationsName.length);
      businessDetailNodes.push(node);
    }
  },
  ExitProfileData: function ExitProfileData() {
    for (var index = 0; index < businessDetailNodes.length; index++) {
      businessDetailNodes[index].destroy();
    }

    businessDetailNodes = [];
    this.PlayerInfoScreen.active = false;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxQbGF5ZXJQcm9maWxlTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJidXNpbmVzc0RldGFpbE5vZGVzIiwiUGxheWVySW5mb1VJIiwiY2MiLCJDbGFzcyIsIm5hbWUiLCJwcm9wZXJ0aWVzIiwiUGxheWVyTmFtZSIsInR5cGUiLCJMYWJlbCIsInNlcmlhbGl6YWJsZSIsInRvb2xUaXAiLCJQbGF5ZXJDYXNoIiwiUGxheWVyTWFya2V0aW5nQW1vdW50IiwiTGF3eWVyTGFiZWwiLCJHb2xkQmFsYW5jZUxhYmVsIiwiU3RvY2tCYWxhbmNlTGFiZWwiLCJQYXJ0bmVyc2hpcFN0YXR1c0xhYmVsIiwiQnVzaW5lc3NOdW1iZXJMYWJlbCIsIkJ1c2luZXNzRGV0YWlsQ29udGVudCIsIk5vZGUiLCJCdXNpbmVzc0RldGFpbFByZWZhYiIsIlByZWZhYiIsIkdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlciIsIkdhbWVNYW5hZ2VyIiwicmVxdWlyZSIsIlBsYXllclByb2ZpbGVNYW5hZ2VyIiwiQ29tcG9uZW50IiwiQkdIaWdobGlnaHQiLCJQbGF5ZXJBdmF0YXJTcHJpdGUiLCJTcHJpdGUiLCJQbGF5ZXJOYW1lTGFiZWwiLCJQbGF5ZXJUdXJuSGlnaGxpZ2h0ZXJOb2RlIiwiQXZhdGFyU3ByaXRlRnJhbWVzIiwiU3ByaXRlRnJhbWUiLCJQbGF5ZXJJbmRleCIsImludGVnZXIiLCJQbGF5ZXJJbmZvU2NyZWVuIiwiUGxheWVySW5mb01haW5VSSIsInRvb2x0aXAiLCJEaWNlUm9sbFNjcmVlbiIsIlBsYXllckluZm8iLCJQbGF5ZXJEYXRhIiwib25Mb2FkIiwiQ2hlY2tSZWZlcmVuY2VzIiwic3RhcnQiLCJTZXROYW1lIiwiX25hbWUiLCJzdHJpbmciLCJTZXRBdmF0YXIiLCJfaW5kZXgiLCJzcHJpdGVGcmFtZSIsIlRvZ2dsZUJHSGlnaGxpZ2h0ZXIiLCJfc3RhdGUiLCJhY3RpdmUiLCJUb2dnbGVUZXh0aWdobGlnaHRlciIsIlNlZVByb2ZpbGVEYXRhIiwiX3RlbXBEYXRhIiwiSW5zdGFuY2UiLCJHZXRfR2FtZU1hbmFnZXIiLCJQbGF5ZXJHYW1lSW5mbyIsIkNhc2giLCJNYXJrZXRpbmdBbW91bnQiLCJMYXd5ZXJTdGF0dXMiLCJHb2xkQ291bnQiLCJTdG9ja0NvdW50IiwiTm9PZkJ1c2luZXNzIiwibGVuZ3RoIiwiaW5kZXgiLCJub2RlIiwiaW5zdGFudGlhdGUiLCJwYXJlbnQiLCJnZXRDb21wb25lbnQiLCJCdXNpbmVzc05hbWUiLCJTZXRUeXBlIiwiQnVzaW5lc3NUeXBlRGVzY3JpcHRpb24iLCJwYXJzZUludCIsIkJ1c2luZXNzVHlwZSIsIlNldE1vZGUiLCJTZXRCYWxhbmNlIiwiQW1vdW50IiwiU2V0TG9jYXRpb25zIiwiTG9jYXRpb25zTmFtZSIsInB1c2giLCJFeGl0UHJvZmlsZURhdGEiLCJkZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLG1CQUFtQixHQUFDLEVBQXhCO0FBQ0EsSUFBSUMsWUFBWSxHQUFDQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUN0QkMsRUFBQUEsSUFBSSxFQUFDLGNBRGlCO0FBRXRCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsVUFBVSxFQUFFO0FBQ1IsaUJBQVMsSUFERDtBQUVSQyxNQUFBQSxJQUFJLEVBQUVMLEVBQUUsQ0FBQ00sS0FGRDtBQUdSQyxNQUFBQSxZQUFZLEVBQUUsSUFITjtBQUlSQyxNQUFBQSxPQUFPLEVBQUM7QUFKQSxLQURKO0FBTVJDLElBQUFBLFVBQVUsRUFBRTtBQUNSLGlCQUFTLElBREQ7QUFFUkosTUFBQUEsSUFBSSxFQUFFTCxFQUFFLENBQUNNLEtBRkQ7QUFHUkMsTUFBQUEsWUFBWSxFQUFFLElBSE47QUFJUkMsTUFBQUEsT0FBTyxFQUFDO0FBSkEsS0FOSjtBQVdSRSxJQUFBQSxxQkFBcUIsRUFBRTtBQUNuQixpQkFBUyxJQURVO0FBRW5CTCxNQUFBQSxJQUFJLEVBQUVMLEVBQUUsQ0FBQ00sS0FGVTtBQUduQkMsTUFBQUEsWUFB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QUFLLEVBQTdELEVBQWlFO0FBQzdEbkUsTUFBQUEsbUJBQW1CLENBQUNtRSxLQUFELENBQW5CLENBQTJCaUIsT0FBM0I7QUFDSDs7QUFDRHBGLElBQUFBLG1CQUFtQixHQUFDLEVBQXBCO0FBRUEsU0FBS29DLGdCQUFMLENBQXNCaUIsTUFBdEIsR0FBNkIsS0FBN0I7QUFDSDtBQTVJNkIsQ0FBVCxDQUF6QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnZhciBidXNpbmVzc0RldGFpbE5vZGVzPVtdO1xyXG52YXIgUGxheWVySW5mb1VJPWNjLkNsYXNzKHtcclxuICAgIG5hbWU6XCJQbGF5ZXJJbmZvVUlcIixcclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBQbGF5ZXJOYW1lOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgbmFtZSBsYWJlbCBvZiBpbmZvIHBsYXllciBVSVwifSxcclxuICAgICAgICBQbGF5ZXJDYXNoOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgY2FzaCBsYWJlbCBvZiBpbmZvIHBsYXllciBVSVwifSxcclxuICAgICAgICBQbGF5ZXJNYXJrZXRpbmdBbW91bnQ6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTGFiZWwsIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2xUaXA6XCJSZWZlcmVuY2Ugb2YgdGhlIHBsYXllciBtYXJrZXRpbmcgYW1vdW50IGxhYmVsIG9mIGluZm8gcGxheWVyIFVJXCJ9LFxyXG4gICAgICAgIExhd3llckxhYmVsOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgbGF3eWVyIHN0YXR1cyBsYWJlbCBvZiBpbmZvIHBsYXllciBVSVwifSxcclxuICAgICAgICBHb2xkQmFsYW5jZUxhYmVsOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgZ29sZCBiYWxhbmNlIGxhYmVsIG9mIGluZm8gcGxheWVyIFVJXCJ9LFxyXG4gICAgICAgIFN0b2NrQmFsYW5jZUxhYmVsOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgc3RvY2sgYmFsYW5jZSBsYWJlbCBvZiBpbmZvIHBsYXllciBVSVwifSxcclxuICAgICAgICBQYXJ0bmVyc2hpcFN0YXR1c0xhYmVsOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBwbGF5ZXIgcGFydG5lcnNoaXAgc3RhdHVzIGxhYmVsIG9mIGluZm8gcGxheWVyIFVJXCJ9LFxyXG4gICAgICAgIEJ1c2luZXNzTnVtYmVyTGFiZWw6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTGFiZWwsIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2xUaXA6XCJSZWZlcmVuY2Ugb2YgdGhlIHBsYXllciBidXNpbmVzcyBudW1iZXIgbGFiZWwgb2YgaW5mbyBwbGF5ZXIgVUlcIn0sXHJcbiAgICAgICAgQnVzaW5lc3NEZXRhaWxDb250ZW50OiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLk5vZGUsIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2xUaXA6XCJSZWZlcmVuY2Ugb2YgdGhlIGNvbnRlbnQgb2Ygc2Nyb2xsIHZpZXcgb2YgYnVzaW5lc3MgZGV0YWlsIG5vZGUgb2YgaW5mbyBwbGF5ZXIgVUlcIn0sXHJcbiAgICAgICAgQnVzaW5lc3NEZXRhaWxQcmVmYWI6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuUHJlZmFiLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBidXNpbmVzcyBkZXRhaWwgcHJlZmFiIG9mIGluZm8gcGxheWVyIFVJXCJ9LFxyXG4gICAgfSxcclxuXHJcbn0pO1xyXG5cclxudmFyIEdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlcj1udWxsO1xyXG52YXIgR2FtZU1hbmFnZXI9cmVxdWlyZSgnR2FtZU1hbmFnZXInKTtcclxudmFyIFBsYXllclByb2ZpbGVNYW5hZ2VyPWNjLkNsYXNzKHtcclxuICAgIG5hbWU6XCJQbGF5ZXJQcm9maWxlTWFuYWdlclwiLFxyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBCR0hpZ2hsaWdodDoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5Ob2RlLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBub2RlIG9mIHBsYXllcidzIEJHIGhpZ2hsaWdodCBOb2RlXCJ9LFxyXG4gICAgICAgIFBsYXllckF2YXRhclNwcml0ZToge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5TcHJpdGUsIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2xUaXA6XCJSZWZlcmVuY2Ugb2YgdGhlIHNwcml0ZSBvZiBwbGF5ZXIncyBhdmF0YXJcIn0sXHJcbiAgICAgICAgUGxheWVyTmFtZUxhYmVsOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkxhYmVsLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB0b29sVGlwOlwiUmVmZXJlbmNlIG9mIHRoZSBsYWJlbCBvZiBwbGF5ZXIncyBuYW1lXCJ9LFxyXG4gICAgICAgIFBsYXllclR1cm5IaWdobGlnaHRlck5vZGU6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSwgXHJcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdG9vbFRpcDpcIlJlZmVyZW5jZSBvZiB0aGUgbm9kZSBvZiBwbGF5ZXIncyBoaWdobGlnaHRlclwifSxcclxuICAgICAgICBBdmF0YXJTcHJpdGVGcmFtZXM6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogW10sXHJcbiAgICAgICAgICAgIHR5cGU6IFtjYy5TcHJpdGVGcmFtZV0sIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2xUaXA6XCJSZWZlcmVuY2Ugb2YgdGhlIGFycmF5IG9mIHNwcml0ZXMgb2YgcGxheWVyJ3MgYXZhdGFyXCJ9LFxyXG4gICAgICAgIFBsYXllckluZGV4OiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IC0xLFxyXG4gICAgICAgICAgICB0eXBlOiBjYy5pbnRlZ2VyLCBcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlfSxcclxuICAgICAgICBQbGF5ZXJJbmZvU2NyZWVuOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLk5vZGUsIFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWV9LFxyXG4gICAgICAgICBQbGF5ZXJJbmZvTWFpblVJOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0eXBlOiBQbGF5ZXJJbmZvVUksXHJcbiAgICAgICAgICAgIHNlcmlhbGl6YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgdG9vbHRpcDogXCJhbGwgcGxheWVyJ3MgVUkgZGF0YVwifSxcclxuICAgICAgICBEaWNlUm9sbFNjcmVlbjoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSxcclxuICAgICAgICAgICAgc2VyaWFsaXphYmxlOiB0cnVlfSxcclxuICAgICAgICBQbGF5ZXJJbmZvOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0eXBlOiBHYW1lTWFuYWdlci5QbGF5ZXJEYXRhLFxyXG4gICAgICAgICAgICBzZXJpYWxpemFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IFwiYWxsIHBsYXllcidzIGRhdGFcIn0sXHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5DaGVja1JlZmVyZW5jZXMoKTtcclxuICAgIH0sXHJcbiAgICAvL1xyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgIH0sXHJcblxyXG4gICAgQ2hlY2tSZWZlcmVuY2VzKClcclxuICAgICB7XHJcbiAgICAgICAgaWYoIUdhbWVQbGF5UmVmZXJlbmNlTWFuYWdlciB8fCBHYW1lUGxheVJlZmVyZW5jZU1hbmFnZXI9PW51bGwpXHJcbiAgICAgICAgR2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyPXJlcXVpcmUoJ0dhbWVQbGF5UmVmZXJlbmNlTWFuYWdlcicpO1xyXG4gICAgIH0sXHJcblxyXG4gICAgU2V0TmFtZShfbmFtZSlcclxuICAgIHtcclxuICAgICAgICB0aGlzLlBsYXllck5hbWVMYWJlbC5zdHJpbmc9X25hbWU7XHJcbiAgICB9LFxyXG5cclxuICAgIFNldEF2YXRhcihfaW5kZXgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5QbGF5ZXJBdmF0YXJTcHJpdGUuc3ByaXRlRnJhbWU9dGhpcy5BdmF0YXJTcHJpdGVGcmFtZXNbX2luZGV4XTtcclxuICAgIH0sXHJcblxyXG4gICAgVG9nZ2xlQkdIaWdobGlnaHRlcihfc3RhdGUpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5CR0hpZ2hsaWdodC5hY3RpdmU9X3N0YXRlO1xyXG4gICAgfSxcclxuXHJcbiAgICBUb2dnbGVUZXh0aWdobGlnaHRlcihfc3RhdGUpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5QbGF5ZXJUdXJuSGlnaGxpZ2h0ZXJOb2RlLmFjdGl2ZT1fc3RhdGU7XHJcbiAgICB9LFxyXG5cclxuICAgIFNlZVByb2ZpbGVEYXRhKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLlBsYXllckluZm9TY3JlZW4uYWN0aXZlPXRydWU7XHJcbiAgICAgICAgdGhpcy5DaGVja1JlZmVyZW5jZXMoKTtcclxuICAgICAgICBidXNpbmVzc0RldGFpbE5vZGVzPVtdO1xyXG4gICAgICAgIHZhciBfdGVtcERhdGE9R2FtZVBsYXlSZWZlcmVuY2VNYW5hZ2VyLkluc3RhbmNlLkdldF9HYW1lTWFuYWdlcigpLlBsYXllckdhbWVJbmZvW3RoaXMuUGxheWVySW5kZXhdO1xyXG5cclxuICAgICAgICB0aGlzLlBsYXllckluZm9NYWluVUkuUGxheWVyTmFtZS5zdHJpbmc9X3RlbXBEYXRhLlBsYXllck5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5QbGF5ZXJJbmZvTWFpblVJLlBsYXllckNhc2guc3RyaW5nPV90ZW1wRGF0YS5DYXNoO1xyXG4gICAgICAgIHRoaXMuUGxheWVySW5mb01haW5VSS5QbGF5ZXJNYXJrZXRpbmdBbW91bnQuc3RyaW5nPV90ZW1wRGF0YS5NYXJrZXRpbmdBbW91bnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoX3RlbXBEYXRhLkxhd3llclN0YXR1cylcclxuICAgICAgICAgICAgdGhpcy5QbGF5ZXJJbmZvTWFpblVJLkxhd3llckxhYmVsLnN0cmluZz1cIllFU1wiO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5QbGF5ZXJJbmZvTWFpblVJLkxhd3llckxhYmVsLnN0cmluZz1cIk5PXCI7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuUGxheWVySW5mb01haW5VSS5QYXJ0bmVyc2hpcFN0YXR1c0xhYmVsLnN0cmluZz1cIk4vQVwiO1xyXG4gICAgICAgIHRoaXMuUGxheWVySW5mb01haW5VSS5Hb2xkQmFsYW5jZUxhYmVsLnN0cmluZz1fdGVtcERhdGEuR29sZENvdW50O1xyXG4gICAgICAgIHRoaXMuUGxheWVySW5mb01haW5VSS5TdG9ja0JhbGFuY2VMYWJlbC5zdHJpbmc9X3RlbXBEYXRhLlN0b2NrQ291bnQ7XHJcbiAgICAgICAgLy90aGlzLlBsYXllckluZm9NYWluVUkuU3RvY2tCYWxhbmNlTGFiZWwuc3RyaW5nPV90ZW1wRGF0YS5Ob09mU3RvY2tzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLlBsYXllckluZm9NYWluVUkuQnVzaW5lc3NOdW1iZXJMYWJlbC5zdHJpbmc9XCJObyBvZiBCdXNpbmVzc2VzIDogXCIrX3RlbXBEYXRhLk5vT2ZCdXNpbmVzcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBfdGVtcERhdGEuTm9PZkJ1c2luZXNzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLlBsYXllckluZm9NYWluVUkuQnVzaW5lc3NEZXRhaWxQcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLlBsYXllckluZm9NYWluVUkuQnVzaW5lc3NEZXRhaWxDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoJ0J1c2luZXNzRGV0YWlsJykuU2V0TmFtZShfdGVtcERhdGEuTm9PZkJ1c2luZXNzW2luZGV4XS5CdXNpbmVzc05hbWUpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoJ0J1c2luZXNzRGV0YWlsJykuU2V0VHlwZShfdGVtcERhdGEuTm9PZkJ1c2luZXNzW2luZGV4XS5CdXNpbmVzc1R5cGVEZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgICAgICBub2RlLmdldENvbXBvbmVudCgnQnVzaW5lc3NEZXRhaWwnKS5TZXRUeXBlKF90ZW1wRGF0YS5Ob09mQnVzaW5lc3NbaW5kZXhdLkJ1c2luZXNzVHlwZURlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihwYXJzZUludChfdGVtcERhdGEuTm9PZkJ1c2luZXNzW2luZGV4XS5CdXNpbmVzc1R5cGUpPT0xKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KCdCdXNpbmVzc0RldGFpbCcpLlNldE1vZGUoXCJIb21lIEJhc2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZihwYXJzZUludChfdGVtcERhdGEuTm9PZkJ1c2luZXNzW2luZGV4XS5CdXNpbmVzc1R5cGUpPT0yKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KCdCdXNpbmVzc0RldGFpbCcpLlNldE1vZGUoXCJCcmljayAmIE1vcnRhclwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoJ0J1c2luZXNzRGV0YWlsJykuU2V0QmFsYW5jZShfdGVtcERhdGEuTm9PZkJ1c2luZXNzW2luZGV4XS5BbW91bnQpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5nZXRDb21wb25lbnQoJ0J1c2luZXNzRGV0YWlsJykuU2V0TG9jYXRpb25zKF90ZW1wRGF0YS5Ob09mQnVzaW5lc3NbaW5kZXhdLkxvY2F0aW9uc05hbWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGJ1c2luZXNzRGV0YWlsTm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG5cclxuICAgIEV4aXRQcm9maWxlRGF0YSgpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGJ1c2luZXNzRGV0YWlsTm9kZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGJ1c2luZXNzRGV0YWlsTm9kZXNbaW5kZXhdLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnVzaW5lc3NEZXRhaWxOb2Rlcz1bXTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLlBsYXllckluZm9TY3JlZW4uYWN0aXZlPWZhbHNlO1xyXG4gICAgfSxcclxufSk7XHJcbiJdfQ==